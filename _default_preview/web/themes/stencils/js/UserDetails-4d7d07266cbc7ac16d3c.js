"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[345],{56078:function(e,t,r){r.d(t,{j:function(){return c}});var a=new WeakMap,s=new WeakMap,n={},o=0,l=function(e,t,r){void 0===t&&(t=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===r&&(r="data-aria-hidden");var l=Array.isArray(e)?e:[e];n[r]||(n[r]=new WeakMap);var i=n[r],c=[],d=new Set,u=function(e){e&&!d.has(e)&&(d.add(e),u(e.parentNode))};l.forEach(u);var p=function(e){!e||l.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(d.has(e))p(e);else{var t=e.getAttribute("aria-hidden"),n=null!==t&&"false"!==t,o=(a.get(e)||0)+1,l=(i.get(e)||0)+1;a.set(e,o),i.set(e,l),c.push(e),1===o&&n&&s.set(e,!0),1===l&&e.setAttribute(r,"true"),n||e.setAttribute("aria-hidden","true")}}))};return p(t),d.clear(),o++,function(){c.forEach((function(e){var t=a.get(e)-1,n=i.get(e)-1;a.set(e,t),i.set(e,n),t||(s.has(e)||e.removeAttribute("aria-hidden"),s.delete(e)),n||e.removeAttribute(r)})),--o||(a=new WeakMap,a=new WeakMap,s=new WeakMap,n={})}};const i="undefined"!=typeof document?document:void 0;function c(e="body",{document:t=i}={}){let r,a=t.querySelector(e),s=[],n=new MutationObserver((e=>{for(let t of e)if("childList"===t.type&&t.addedNodes.length>0){let e=Array.from(t.addedNodes).find((e=>{var t;return null===(t=e.querySelector)||void 0===t?void 0:t.call(e,'[aria-modal="true"], [data-ismodal="true"]')}));if(e){s.push(e);let t=e.querySelector('[aria-modal="true"], [data-ismodal="true"]');null==r||r(),r=l(t)}}else if("childList"===t.type&&t.removedNodes.length>0){let e=Array.from(t.removedNodes),a=s.findIndex((t=>e.includes(t)));if(a>=0)if(r(),s=s.filter(((e,t)=>t!==a)),s.length>0){let e=s[s.length-1].querySelector('[aria-modal="true"], [data-ismodal="true"]');r=l(e)}else r=void 0}}));return n.observe(a,{childList:!0}),()=>{null==r||r(),n.disconnect()}}},64663:function(e,t,r){r.d(t,{U:function(){return l}});var a=r(26333),s=r(49641),n=r(27354);function o(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}function l(e,t){let r,{elementType:o="button",isDisabled:l,onPress:i,onPressStart:c,onPressEnd:d,onPressChange:u,preventFocusOnPress:p,allowFocusWhenDisabled:m,onClick:f,href:g,target:v,rel:b,type:h="button"}=e;r="button"===o?{type:h,disabled:l}:{role:"button",tabIndex:l?void 0:0,href:"a"===o&&l?void 0:g,target:"a"===o?v:void 0,type:"input"===o?h:void 0,disabled:"input"===o?l:void 0,"aria-disabled":l&&"input"!==o?l:void 0,rel:"a"===o?b:void 0};let{pressProps:y,isPressed:E}=(0,n.r7)({onPressStart:c,onPressEnd:d,onPressChange:u,onPress:i,isDisabled:l,preventFocusOnPress:p,ref:t}),{focusableProps:P}=(0,s.kc)(e,t);m&&(P.tabIndex=l?-1:P.tabIndex);let N=(0,a.dG)(P,y,(0,a.zL)(e,{labelable:!0}));return{isPressed:E,buttonProps:(0,a.dG)(r,N,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{f&&(f(e),console.warn("onClick is deprecated, please use onPress"))}})}}o({},"useButton",(()=>l));function i(e,t,r){const{isSelected:s}=t,{isPressed:n,buttonProps:o}=l({...e,onPress:(0,a.tS)(t.toggle,e.onPress)},r);return{isPressed:n,buttonProps:(0,a.dG)(o,{"aria-pressed":s})}}o({},"useToggleButton",(()=>i))},72340:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var a=r(67294),s=r(331),n=r(56078),o=r(98069),l=r(58265),i=r(92904),c=r(93408);function d(e){let{closeModal:t,firstName:r,lastName:s,lmsStudentid:n,studentDataUrlPrefix:o,hasError:l}=e;function i(){Object.keys(localStorage).forEach((e=>{localStorage.removeItem(e)}));Object.keys(sessionStorage).forEach((e=>{sessionStorage.removeItem(e)})),c.P.clearMemoization(),location.reload()}return l?a.createElement("div",{className:"user"},a.createElement("div",{className:"user-details"},a.createElement("p",null,"Looks like something has gone wrong. Please try reloading the page"),a.createElement("button",{className:"user-details__list-item-button",type:"button",onClick:i},"Logout"))):a.createElement("div",{className:"user"},a.createElement("div",{className:"user-details"},a.createElement("div",{className:"user-details__header"},r," ",s,a.createElement("button",{className:"user-details__header-button",type:"button",onClick:t},a.createElement("span",{className:"sr-only"},"Close"),a.createElement("svg",{className:"user-details__header-button-icon"},a.createElement("use",{href:"#close"})))),a.createElement("ul",{className:"user-details__list"},a.createElement("li",{className:"user-details__list-item"},a.createElement("a",{className:"user-details__list-item-link",href:"".concat(o).concat(n)},"View profile information")),a.createElement("li",{className:"user-details__list-item"},a.createElement("button",{className:"user-details__list-item-button",type:"button",onClick:i},"Logout")))))}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u.apply(this,arguments)}function p(e){let{popover:t,studentDataUrlPrefix:r}=e;(0,n.j)();const c=(0,s.Z)(),{userDetails:p,getUserDetails:m,hasError:f}=(0,a.useContext)(i.Z);(0,a.useEffect)((()=>{m()}),[]);const{firstName:g,lastName:v,lmsStudentid:b}=p,h=a.createElement(d,{firstName:g,lastName:v,lmsStudentid:b,studentDataUrlPrefix:r,hasError:f});return a.createElement(a.Fragment,null,a.createElement(o.N3,{className:"no-wysiwyg users-wrapper"},t&&a.createElement(l.Z,{titleId:c,trigger:e=>{let{props:t,ref:r}=e;return a.createElement("button",u({ref:r},t,{type:"button",className:"users-wrapper__action"}),a.createElement("svg",{className:"svg-icon"},a.createElement("title",null,"View user details"),a.createElement("use",{href:"#user-avatar"})),a.createElement("div",{className:"users-wrapper__name"},g," ",v))},className:"users-popover"},h),!t&&h))}},58265:function(e,t,r){r.d(t,{Z:function(){return m}});r(33948);var a=r(67294),s=r(45697),n=r.n(s),o=r(98069),l=r(64663),i=r(34708),c=r(49641),d=r(26333);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u.apply(this,arguments)}const p=a.forwardRef(((e,t)=>{let{triggerRef:r,titleId:s,title:n,children:l,isOpen:p,onClose:m,className:f,...g}=e;const{overlayProps:v}=(0,o.Ir)({onClose:m,isOpen:p,isDismissable:!0,shouldCloseOnInteractOutside:e=>!(e.closest('[data-overlay-container]:not([aria-hidden="true"])')&&!e.closest('[aria-hidden="true"]'))&&(!!r.current.contains(e)||(m(),!1))},t),{modalProps:b}=(0,o.dd)(),{dialogProps:h,titleProps:y}=(0,i.R)({"aria-describedby":s},t);return a.createElement(c.MT,{contain:!0,restoreFocus:!0},a.createElement("div",u({},(0,d.dG)(v,h,g,b),{ref:t,className:"popover__dialog ".concat(f,"__dialog")}),s?"":a.createElement("h2",u({},y,{className:"popover__title ".concat(f,"__title")}),n),l,a.createElement(o.U4,{onDismiss:m})))}));function m(e){let{titleId:t,title:r,placement:s,trigger:n,className:i,children:c}=e;const[m,f]=(0,a.useState)(!1),g=a.useRef(),v=a.useRef(),{triggerProps:b,overlayProps:h}=(0,o.IB)({type:"dialog"},{isOpen:m},g),{overlayProps:y}=(0,o.tN)({targetRef:g,overlayRef:v,placement:s||"bottom right",offset:5,isOpen:m});delete y.style.zIndex;for(const[e,t]of Object.entries(y.style))y.style["--popover-".concat(e)]=isNaN(t)?t:"".concat(t,"px"),delete y.style[e];const{buttonProps:E}=(0,l.U)({onPress:()=>f(!0)},g),P=n({props:{...(0,d.dG)(E,b)},ref:g});return a.createElement(a.Fragment,null,P,m&&a.createElement(o.Xj,{className:"popover ".concat(i)},a.createElement(p,u({},h,y,{ref:v,triggerRef:g,titleId:t,title:r,isOpen:!0,onClose:()=>{f(!1)},className:i}),(0,a.cloneElement)(c,{closeModal:()=>f(!1)}))))}m.propTypes={titleId:n().string,title:n().string,trigger:n().func,className:n().string},m.defaultProps={titleId:"",title:"popover",trigger:e=>{let{props:t,ref:r}=e;return a.createElement("button",u({},t,{ref:r}),"Open popover")},className:"popover"}}}]);
//# sourceMappingURL=UserDetails-4d7d07266cbc7ac16d3c.js.map