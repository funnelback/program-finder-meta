"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[345],{72340:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var s=r(67294),a=r(331),l=r(56078),n=r(98069),o=r(2106),i=r(92904),c=r(93408);function m(e){let{closeModal:t,firstName:r,lastName:a,lmsStudentid:l,studentDataUrlPrefix:n,hasError:o}=e;function i(){Object.keys(localStorage).forEach((e=>{localStorage.removeItem(e)}));Object.keys(sessionStorage).forEach((e=>{sessionStorage.removeItem(e)})),c.P.clearMemoization(),location.reload()}return o?s.createElement("div",{className:"user"},s.createElement("div",{className:"user-details"},s.createElement("p",null,"Looks like something has gone wrong. Please try reloading the page"),s.createElement("button",{className:"user-details__list-item-button",type:"button",onClick:i},"Logout"))):s.createElement("div",{className:"user"},s.createElement("div",{className:"user-details"},s.createElement("div",{className:"user-details__header"},r," ",a,s.createElement("button",{className:"user-details__header-button",type:"button",onClick:t},s.createElement("span",{className:"sr-only"},"Close"),s.createElement("svg",{className:"user-details__header-button-icon"},s.createElement("use",{href:"#close"})))),s.createElement("ul",{className:"user-details__list"},s.createElement("li",{className:"user-details__list-item"},s.createElement("a",{className:"user-details__list-item-link",href:"".concat(n).concat(l)},"View profile information")),s.createElement("li",{className:"user-details__list-item"},s.createElement("button",{className:"user-details__list-item-button",type:"button",onClick:i},"Logout")))))}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},u.apply(this,arguments)}function p(e){let{popover:t,studentDataUrlPrefix:r}=e;(0,l.j)();const c=(0,a.Z)(),{userDetails:p,getUserDetails:d,hasError:f}=(0,s.useContext)(i.Z);(0,s.useEffect)((()=>{d()}),[]);const{firstName:g,lastName:E,lmsStudentid:N}=p,_=s.createElement(m,{firstName:g,lastName:E,lmsStudentid:N,studentDataUrlPrefix:r,hasError:f});return s.createElement(s.Fragment,null,s.createElement(n.N3,{className:"no-wysiwyg users-wrapper"},t&&s.createElement(o.Z,{titleId:c,trigger:e=>{let{props:t,ref:r}=e;return s.createElement("button",u({ref:r},t,{type:"button",className:"users-wrapper__action"}),s.createElement("svg",{className:"svg-icon"},s.createElement("title",null,"View user details"),s.createElement("use",{href:"#user-avatar"})),s.createElement("div",{className:"users-wrapper__name"},g," ",E))},className:"users-popover"},_),!t&&_))}},2106:function(e,t,r){r.d(t,{Z:function(){return d}});r(33948);var s=r(67294),a=r(45697),l=r.n(a),n=r(98069),o=r(64663),i=r(34708),c=r(49641),m=r(26333);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},u.apply(this,arguments)}const p=s.forwardRef(((e,t)=>{let{triggerRef:r,titleId:a,title:l,children:o,isOpen:p,onClose:d,className:f,...g}=e;const{overlayProps:E}=(0,n.Ir)({onClose:d,isOpen:p,isDismissable:!0,shouldCloseOnInteractOutside:e=>!(e.closest('[data-overlay-container]:not([aria-hidden="true"])')&&!e.closest('[aria-hidden="true"]'))&&(!!r.current.contains(e)||(d(),!1))},t),{modalProps:N}=(0,n.dd)(),{dialogProps:_,titleProps:v}=(0,i.R)({"aria-describedby":a},t);return s.createElement(c.MT,{contain:!0,restoreFocus:!0},s.createElement("div",u({},(0,m.dG)(E,_,g,N),{ref:t,className:"popover__dialog ".concat(f,"__dialog")}),a?"":s.createElement("h2",u({},v,{className:"popover__title ".concat(f,"__title")}),l),o,s.createElement(n.U4,{onDismiss:d})))}));function d(e){let{titleId:t,title:r,placement:a,trigger:l,className:i,children:c}=e;const[d,f]=(0,s.useState)(!1),g=s.useRef(),E=s.useRef(),{triggerProps:N,overlayProps:_}=(0,n.IB)({type:"dialog"},{isOpen:d},g),{overlayProps:v}=(0,n.tN)({targetRef:g,overlayRef:E,placement:a||"bottom right",offset:5,isOpen:d});delete v.style.zIndex;for(const[e,t]of Object.entries(v.style))v.style["--popover-".concat(e)]=isNaN(t)?t:"".concat(t,"px"),delete v.style[e];const{buttonProps:b}=(0,o.U)({onPress:()=>f(!0)},g),h=l({props:{...(0,m.dG)(b,N)},ref:g});return s.createElement(s.Fragment,null,h,d&&s.createElement(n.Xj,{className:"popover ".concat(i)},s.createElement(p,u({},_,v,{ref:E,triggerRef:g,titleId:t,title:r,isOpen:!0,onClose:()=>{f(!1)},className:i}),(0,s.cloneElement)(c,{closeModal:()=>f(!1)}))))}d.propTypes={titleId:l().string,title:l().string,trigger:l().func,className:l().string},d.defaultProps={titleId:"",title:"popover",trigger:e=>{let{props:t,ref:r}=e;return s.createElement("button",u({},t,{ref:r}),"Open popover")},className:"popover"}}}]);
//# sourceMappingURL=UserDetails-012425b529235df3af0a.js.map