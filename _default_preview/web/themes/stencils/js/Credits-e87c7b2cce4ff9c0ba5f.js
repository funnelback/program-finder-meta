"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[191],{56078:function(e,t,a){a.d(t,{j:function(){return i}});var n=new WeakMap,r=new WeakMap,s={},l=0,o=function(e,t,a){void 0===t&&(t=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===a&&(a="data-aria-hidden");var o=Array.isArray(e)?e:[e];s[a]||(s[a]=new WeakMap);var c=s[a],i=[],d=new Set,u=function(e){e&&!d.has(e)&&(d.add(e),u(e.parentNode))};o.forEach(u);var p=function(e){!e||o.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(d.has(e))p(e);else{var t=e.getAttribute("aria-hidden"),s=null!==t&&"false"!==t,l=(n.get(e)||0)+1,o=(c.get(e)||0)+1;n.set(e,l),c.set(e,o),i.push(e),1===l&&s&&r.set(e,!0),1===o&&e.setAttribute(a,"true"),s||e.setAttribute("aria-hidden","true")}}))};return p(t),d.clear(),l++,function(){i.forEach((function(e){var t=n.get(e)-1,s=c.get(e)-1;n.set(e,t),c.set(e,s),t||(r.has(e)||e.removeAttribute("aria-hidden"),r.delete(e)),s||e.removeAttribute(a)})),--l||(n=new WeakMap,n=new WeakMap,r=new WeakMap,s={})}};const c="undefined"!=typeof document?document:void 0;function i(e="body",{document:t=c}={}){let a,n=t.querySelector(e),r=[],s=new MutationObserver((e=>{for(let t of e)if("childList"===t.type&&t.addedNodes.length>0){let e=Array.from(t.addedNodes).find((e=>{var t;return null===(t=e.querySelector)||void 0===t?void 0:t.call(e,'[aria-modal="true"], [data-ismodal="true"]')}));if(e){r.push(e);let t=e.querySelector('[aria-modal="true"], [data-ismodal="true"]');null==a||a(),a=o(t)}}else if("childList"===t.type&&t.removedNodes.length>0){let e=Array.from(t.removedNodes),n=r.findIndex((t=>e.includes(t)));if(n>=0)if(a(),r=r.filter(((e,t)=>t!==n)),r.length>0){let e=r[r.length-1].querySelector('[aria-modal="true"], [data-ismodal="true"]');a=o(e)}else a=void 0}}));return s.observe(n,{childList:!0}),()=>{null==a||a(),s.disconnect()}}},64663:function(e,t,a){a.d(t,{U:function(){return o}});var n=a(26333),r=a(49641),s=a(27354);function l(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}function o(e,t){let a,{elementType:l="button",isDisabled:o,onPress:c,onPressStart:i,onPressEnd:d,onPressChange:u,preventFocusOnPress:p,allowFocusWhenDisabled:m,onClick:f,href:b,target:v,rel:g,type:y="button"}=e;a="button"===l?{type:y,disabled:o}:{role:"button",tabIndex:o?void 0:0,href:"a"===l&&o?void 0:b,target:"a"===l?v:void 0,type:"input"===l?y:void 0,disabled:"input"===l?o:void 0,"aria-disabled":o&&"input"!==l?o:void 0,rel:"a"===l?g:void 0};let{pressProps:h,isPressed:E}=(0,s.r7)({onPressStart:i,onPressEnd:d,onPressChange:u,onPress:c,isDisabled:o,preventFocusOnPress:p,ref:t}),{focusableProps:_}=(0,r.kc)(e,t);m&&(_.tabIndex=o?-1:_.tabIndex);let N=(0,n.dG)(_,h,(0,n.zL)(e,{labelable:!0}));return{isPressed:E,buttonProps:(0,n.dG)(a,N,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{f&&(f(e),console.warn("onClick is deprecated, please use onPress"))}})}}l({},"useButton",(()=>o));function c(e,t,a){const{isSelected:r}=t,{isPressed:s,buttonProps:l}=o({...e,onPress:(0,n.tS)(t.toggle,e.onPress)},a);return{isPressed:s,buttonProps:(0,n.dG)(l,{"aria-pressed":r})}}l({},"useToggleButton",(()=>c))},9556:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var n=a(67294),r=a(331),s=a(56078),l=a(98069),o=a(55125),c=a(58265),i=a(87553);function d(e){let{balances:t,transactions:a,type:r,label:s,lowThreshold:l,showRecentTransactions:o,addCreditLink:c,allTransactionsLink:d,closeModal:u,popover:p}=e;const m=t[r]||"NaN",f=o&&a[r]||[],b=parseFloat(m)<l,v=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return n.createElement("div",{className:"credit"},n.createElement("div",{className:"credit-balance"},n.createElement("div",{className:"credit-balance__header"},"".concat(s," Balance")," ",p&&n.createElement("button",{className:"credit-balance__header-button",type:"button",onClick:u},n.createElement("span",{className:"sr-only"},"Close"),n.createElement("svg",{className:"credit-balance__header-button-icon"},n.createElement("use",{href:"#close"})))),n.createElement("div",{className:"credit-balance__balance ".concat(b?"credit-balance__balance--low":"")},n.createElement("div",{className:"credit-balance__balance-amount"},v.format(m),b&&n.createElement("div",{className:"credit-balance__balance-amount-low"},n.createElement("svg",{className:"svg-icon svg-icon--small"},n.createElement("title",null,"Warning"),n.createElement("use",{href:"#warning"})),"Low balance")),c&&n.createElement("a",{href:c,className:"credit-balance__balance-add"},n.createElement("svg",{"aria-hidden":!0,className:"svg-icon svg-icon--small"},n.createElement("use",{href:"#add-alt"})),"Add more balance")),o&&f.length>0&&n.createElement("div",{className:"credit-balance__transactions"},n.createElement("ul",{className:"credit-balance__transactions-list"},f.map((e=>{let{id:t,label:a,amount:r,date:s}=e;return n.createElement("li",{key:t,className:"credit-transaction"},n.createElement("div",{className:"credit-transaction__details"},n.createElement("div",{className:"credit-transaction__label"},a),s&&n.createElement("div",{className:"credit-transaction__date"},(0,i.Z)(s,"dd MMM, yyyy, h:mmaaa"))),n.createElement("div",{className:"credit-transaction__amount"},v.format(r)))}))),d&&n.createElement("a",{href:d,className:"credit-balance__all-transactions"},n.createElement("svg",{className:"svg-icon svg-icon--small"},n.createElement("title",null,"External link"),n.createElement("use",{href:"#external"})),"See all transactions"))))}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}function p(e){let{popover:t=!1,summaryMode:a=!1,balanceTypes:i}=e;const{balances:p,getBalances:m,transactions:f,getTransactions:b}=(0,n.useContext)(o.Z);return(0,n.useEffect)((()=>{m(i.map((e=>e.type)))}),[i]),(0,n.useEffect)((()=>{a||b(i.filter((e=>e.showRecentTransactions)).map((e=>e.type)))}),[a,i]),(0,s.j)(),n.createElement(l.N3,{className:"no-wysiwyg credits-wrapper"},i.map((e=>{if(t){const t=(0,r.Z)();return n.createElement(c.Z,{key:e.type,titleId:t,trigger:t=>{let{props:a,ref:r}=t;return n.createElement("button",u({ref:r},a,{type:"button",className:"credits-wrapper__action"}),n.createElement("svg",{className:"svg-icon"},n.createElement("title",null,"View ".concat(e.type," balance")),n.createElement("use",{href:"#".concat(e.icon)})))},className:"credits-popover"},n.createElement(d,u({popover:!0},e,{balances:p,transactions:f})))}return n.createElement(d,u({popover:!1,key:e.type},e,{balances:p,transactions:f}))})))}},58265:function(e,t,a){a.d(t,{Z:function(){return m}});a(33948);var n=a(67294),r=a(45697),s=a.n(r),l=a(98069),o=a(64663),c=a(34708),i=a(49641),d=a(26333);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}const p=n.forwardRef(((e,t)=>{let{triggerRef:a,titleId:r,title:s,children:o,isOpen:p,onClose:m,className:f,...b}=e;const{overlayProps:v}=(0,l.Ir)({onClose:m,isOpen:p,isDismissable:!0,shouldCloseOnInteractOutside:e=>!(e.closest('[data-overlay-container]:not([aria-hidden="true"])')&&!e.closest('[aria-hidden="true"]'))&&(!!a.current.contains(e)||(m(),!1))},t),{modalProps:g}=(0,l.dd)(),{dialogProps:y,titleProps:h}=(0,c.R)({"aria-describedby":r},t);return n.createElement(i.MT,{contain:!0,restoreFocus:!0},n.createElement("div",u({},(0,d.dG)(v,y,b,g),{ref:t,className:"popover__dialog ".concat(f,"__dialog")}),r?"":n.createElement("h2",u({},h,{className:"popover__title ".concat(f,"__title")}),s),o,n.createElement(l.U4,{onDismiss:m})))}));function m(e){let{titleId:t,title:a,placement:r,trigger:s,className:c,children:i}=e;const[m,f]=(0,n.useState)(!1),b=n.useRef(),v=n.useRef(),{triggerProps:g,overlayProps:y}=(0,l.IB)({type:"dialog"},{isOpen:m},b),{overlayProps:h}=(0,l.tN)({targetRef:b,overlayRef:v,placement:r||"bottom right",offset:5,isOpen:m});delete h.style.zIndex;for(const[e,t]of Object.entries(h.style))h.style["--popover-".concat(e)]=isNaN(t)?t:"".concat(t,"px"),delete h.style[e];const{buttonProps:E}=(0,o.U)({onPress:()=>f(!0)},b),_=s({props:{...(0,d.dG)(E,g)},ref:b});return n.createElement(n.Fragment,null,_,m&&n.createElement(l.Xj,{className:"popover ".concat(c)},n.createElement(p,u({},y,h,{ref:v,triggerRef:b,titleId:t,title:a,isOpen:!0,onClose:()=>{f(!1)},className:c}),(0,n.cloneElement)(i,{closeModal:()=>f(!1)}))))}m.propTypes={titleId:s().string,title:s().string,trigger:s().func,className:s().string},m.defaultProps={titleId:"",title:"popover",trigger:e=>{let{props:t,ref:a}=e;return n.createElement("button",u({},t,{ref:a}),"Open popover")},className:"popover"}}}]);
//# sourceMappingURL=Credits-e87c7b2cce4ff9c0ba5f.js.map