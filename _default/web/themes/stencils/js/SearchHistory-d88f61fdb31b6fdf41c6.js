/*! For license information please see SearchHistory-d88f61fdb31b6fdf41c6.js.LICENSE.txt */
"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[665],{64560:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var s=r(67294),a=r(45697),c=r.n(a),l=r(13122);class i{constructor(e){if(!e)throw new Error("dto is required when instantiating a new StorageService object");["storageAdapter"].forEach((t=>{if(!e[t])throw new Error("".concat(t," property is required when instantiating a new StorageService object"))})),this.storageAdapter=e.storageAdapter}delete(e){return this.storageAdapter.delete(e)}deleteAll(){return this.storageAdapter.deleteAll()}get(e){return this.storageAdapter.get(e)}getAll(){return this.storageAdapter.getAll()}set(e,t){return this.storageAdapter.set(e,t)}setAll(e){return this.storageAdapter.setAll(e)}}r(33948);var o=(0,s.createContext)({isReady:!1,clickHistory:[],searchHistory:[],clearHistory:()=>{},reloadHistory:()=>{}});var n=e=>{let{children:t,storageService:r}=e;const[a,c]=(0,s.useState)(!1),[l,i]=(0,s.useState)([]),[n,h]=(0,s.useState)([]);(0,s.useEffect)((()=>{const e=r.getAll(),t=e.clickHistory||[],s=e.searchHistory||[];i(t),h(s),c(!0)}),[]);const y=(0,s.useCallback)((e=>{const t=r.getAll(),s="click"===e?[]:t.clickHistory,a="search"===e?[]:t.searchHistory;r.setAll({clickHistory:s,searchHistory:a}),i(s),h(a),c(!0)}),[]);return s.createElement(o.Provider,{value:{clickHistory:l,clearHistory:y,searchHistory:n,isReady:a}},t)};function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},h.apply(this,arguments)}function y(e){let{isReady:t,data:r,type:a,clearHistory:c}=e;return r&&0!==r.length?s.createElement(s.Fragment,null,s.createElement("ul",{className:"search-history__list"},t&&r.map(((e,t)=>{const{title:r,url:c,time:i,query:o,count:n}=e,h=(0,l.Z)(new Date,new Date(i)),y="click"===a?r:"".concat(r," (").concat(n,")");return s.createElement("li",{className:"search-history__list-item",key:t},s.createElement("a",{href:c},y)," ",h,o&&s.createElement("span",null,' for "',o,'" '))}))),s.createElement("button",{type:"button",className:"search-history__button-clear",title:"Clear history",onClick:()=>{confirm("Your search history will be cleared")&&c(a)}},"Clear")):s.createElement("p",{className:"search-history__list-empty"},"Your ",a," history is empty.")}function u(e){const{clickHistoryLabel:t,searchHistoryLabel:r,showClickHistory:a,showSearchHistory:c}=e,{isReady:l,searchHistory:i,clickHistory:n,clearHistory:u}=(0,s.useContext)(o);return s.createElement("div",{className:"search-history no-wysiwyg"},a&&s.createElement("section",{className:"search-history__container"},s.createElement("h2",{className:"search-history__heading"},s.createElement("svg",{className:"svg-icon"},s.createElement("title",null,t),s.createElement("use",{href:"#favorite"})),t),s.createElement(y,h({type:"click",isReady:l,data:n,clearHistory:u},e))),c&&s.createElement("section",{className:"search-history__container"},s.createElement("h2",{className:"search-history__heading"},s.createElement("svg",{className:"svg-icon"},s.createElement("title",null,r),s.createElement("use",{href:"#search"})),r),s.createElement(y,h({type:"search",isReady:l,data:i,clearHistory:u},e))))}const{string:m,bool:d}=c();function g(e){const{storageAdapter:t}=e,r=new i({storageAdapter:t});return s.createElement(n,{storageService:r},s.createElement(u,e))}u.propTypes={clickHistoryLabel:m,searchHistoryLabel:m,showClickHistory:d,showSearchHistory:d},u.defaultProps={clickHistoryLabel:"Recently clicked results",searchHistoryLabel:"Recently searched results",showClickHistory:!0,showSearchHistory:!0}}}]);
//# sourceMappingURL=SearchHistory-d88f61fdb31b6fdf41c6.js.map