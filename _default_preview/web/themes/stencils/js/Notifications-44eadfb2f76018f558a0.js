"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[623],{64663:function(e,t,n){n.d(t,{U:function(){return l}});var a=n(26333),o=n(49641),i=n(27354);function c(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function l(e,t){let n,{elementType:c="button",isDisabled:l,onPress:s,onPressStart:r,onPressEnd:d,onPressChange:m,preventFocusOnPress:u,allowFocusWhenDisabled:f,onClick:p,href:E,target:_,rel:v,type:g="button"}=e;n="button"===c?{type:g,disabled:l}:{role:"button",tabIndex:l?void 0:0,href:"a"===c&&l?void 0:E,target:"a"===c?_:void 0,type:"input"===c?g:void 0,disabled:"input"===c?l:void 0,"aria-disabled":l&&"input"!==c?l:void 0,rel:"a"===c?v:void 0};let{pressProps:h,isPressed:N}=(0,i.r7)({onPressStart:r,onPressEnd:d,onPressChange:m,onPress:s,isDisabled:l,preventFocusOnPress:u,ref:t}),{focusableProps:b}=(0,o.kc)(e,t);f&&(b.tabIndex=l?-1:b.tabIndex);let y=(0,a.dG)(b,h,(0,a.zL)(e,{labelable:!0}));return{isPressed:N,buttonProps:(0,a.dG)(n,y,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{p&&(p(e),console.warn("onClick is deprecated, please use onPress"))}})}}c({},"useButton",(()=>l));function s(e,t,n){const{isSelected:o}=t,{isPressed:i,buttonProps:c}=l({...e,onPress:(0,a.tS)(t.toggle,e.onPress)},n);return{isPressed:i,buttonProps:(0,a.dG)(c,{"aria-pressed":o})}}c({},"useToggleButton",(()=>s))},11321:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(67294),o=n(98069),i=n(34708),c=n(49641);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function s(e){let{titleId:t,title:n,onClose:i,children:l,className:s}=e;return a.createElement(o.Xj,null,a.createElement("div",{className:"no-wysiwyg modal-wrapper ".concat(s?"".concat(s,"-wrapper"):"")},a.createElement(c.MT,{contain:!0,restoreFocus:!0,autoFocus:!0},a.createElement(r,{titleId:t,title:n,onClose:i,className:s},l))))}function r(e){let{titleId:t,title:n,onClose:s,children:r,className:d}=e;const m={"aria-describedby":t,title:n,onClose:s,isDismissable:!0,isOpen:!0},u=a.useRef(),f=a.useRef(),p=(0,c.bO)(),{overlayProps:E,underlayProps:_}=(0,o.Ir)(m,f);(0,o.tk)();const{modalProps:v}=(0,o.dd)(),{dialogProps:g,titleProps:h}=(0,i.R)(m,f);return(0,a.useEffect)((()=>{u.current.removeAttribute("hidden"),p.focusFirst()}),[u]),a.createElement("div",l({ref:u},_,{hidden:!0,className:"modal ".concat(d||"")}),a.createElement("div",l({ref:f},E,g,v,{"aria-modal":"true",tabIndex:"-1",className:"modal__content ".concat(d?"".concat(d,"__content"):"")}),t?"":a.createElement("h2",l({},h,{className:"".concat(d?"".concat(d,"__title"):"")}),n),r))}},6175:function(e,t,n){n.d(t,{Z:function(){return i}});n(33948);var a=n(67294),o=n(64663);function i(){const[e,t]=(0,a.useState)(!1),n=(0,a.useRef)();let{buttonProps:i}=(0,o.U)({onPress:()=>t(!0)},n);return i={...i,role:"button",tabIndex:"0","aria-label":"Open in modal"},delete i.type,{openModalRef:n,modalOpenProps:i,isModalOpen:e,setIsModalOpen:t}}},80692:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});n(33948);var a=n(67294),o=n(98069),i=n(331),c=n(21919),l=(n(26699),n(13122)),s=n(11321),r=n(6175);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function m(e){const{title:t,subtitle:n,body:o,read:i,onClick:c}=e,{openModalRef:l,modalOpenProps:s,isModalOpen:m,setIsModalOpen:f}=(0,r.Z)();return(0,a.useEffect)((()=>{m&&c()}),[m]),a.createElement(a.Fragment,null,a.createElement("div",d({},s,{ref:l,className:"notification-content ".concat(i?"":"notification-content--unread")}),a.createElement("div",{className:"notification-content__header"},a.createElement("h2",{className:"notification-content__title"},t)),a.createElement("div",{className:"notification-content__body"},n?a.createElement("div",{className:"notification-content__subtitle"},t):a.createElement(a.Fragment,null),a.createElement("div",{className:"notification-content__description"},o))),m&&a.createElement(u,d({},e,{handleModalClose:()=>{f(!1)}})))}function u(e){let{type:t,title:n,subtitle:o,createdDate:c,body:r,pinned:d,handleModalClose:m,onPin:u,pinningAlowed:f}=e,p=(0,l.Z)(c,new Date,{addSuffix:!0});["minute","hour"].some((e=>p.includes(e)))&&(p="Today");const E=(0,i.Z)();return a.createElement(s.Z,{titleId:E,onClose:e=>{m(e)}},a.createElement("div",{className:"notification-content-modal notification-content-modal--".concat(t)},a.createElement("header",{className:"notification-content-modal__header"},a.createElement("h2",{id:E,className:"notification-content-modal__title"},n)),a.createElement("div",{className:"notification-content-modal__body"},a.createElement("div",{className:"notification-content-modal__date-distance"},p),o?a.createElement("div",{className:"notification-content-modal__subtitle"},o):a.createElement(a.Fragment,null),a.createElement("div",{className:"notification-content-modal__description"},r)),f&&a.createElement("footer",{className:"notification-content-modal__footer"},a.createElement("button",{type:"button",onClick:u,className:"notification-content-modal__pin"},a.createElement("svg",{"aria-hidden":"true",className:"svg-icon"},a.createElement("use",{href:"#pin"})),d?"Unpin it":"Pin it"))))}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}function p(e){const{title:t,course:n,body:o,read:i,onClick:c}=e,{openModalRef:l,modalOpenProps:s,isModalOpen:d,setIsModalOpen:m}=(0,r.Z)();return(0,a.useEffect)((()=>{d&&c()}),[d]),a.createElement(a.Fragment,null,a.createElement("div",f({},s,{ref:l,className:"notification-content ".concat(i?"":"notification-content--unread")}),a.createElement("div",{className:"notification-content__header"},a.createElement("svg",{"aria-hidden":"true",className:"svg-icon"},a.createElement("use",{href:"#edify-announcement"})),a.createElement("h2",{className:"notification-content__title"},n?"".concat(n," | "):"","Announcement")),a.createElement("div",{className:"notification-content__body"},a.createElement("div",{className:"notification-content__subtitle"},t),a.createElement("div",{className:"notification-content__description"},o))),d&&a.createElement(E,f({},e,{handleModalClose:()=>{m(!1)}})))}function E(e){let{type:t,title:n,course:o,createdDate:c,body:r,pinned:d,handleModalClose:m,onPin:u,pinningAlowed:f}=e,p=(0,l.Z)(c,new Date,{addSuffix:!0});["minute","hour"].some((e=>p.includes(e)))&&(p="Today");const E=(0,i.Z)();return a.createElement(s.Z,{titleId:E,onClose:m},a.createElement("div",{className:"notification-content-modal notification-content-modal--".concat(t)},a.createElement("header",{className:"notification-content-modal__header"},a.createElement("svg",{"aria-hidden":"true",className:"svg-icon"},a.createElement("use",{href:"#edify-announcement"})),a.createElement("h2",{id:E,className:"notification-content-modal__title"},o?"".concat(o," | "):""," Announcement")),a.createElement("div",{className:"notification-content-modal__body"},a.createElement("div",{className:"notification-content-modal__date-distance"},p),n?a.createElement("div",{className:"notification-content-modal__subtitle"},n):a.createElement(a.Fragment,null),a.createElement("div",{className:"notification-content-modal__description"},r)),f&&a.createElement("footer",{className:"notification-content-modal__footer"},a.createElement("button",{type:"button",onClick:u,className:"notification-content-modal__pin"},a.createElement("svg",{"aria-hidden":"true",className:"svg-icon"},a.createElement("use",{href:"#pin"})),d?"Unpin it":"Pin it"))))}var _=n(87553);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}function g(e){const{title:t,course:n,body:o,read:i,onClick:c}=e,{openModalRef:l,modalOpenProps:s,isModalOpen:d,setIsModalOpen:m}=(0,r.Z)();return(0,a.useEffect)((()=>{d&&c()}),[d]),a.createElement(a.Fragment,null,a.createElement("div",v({},s,{ref:l,className:"notification-content ".concat(i?"":"notification-content--unread")}),a.createElement("div",{className:"notification-content__header"},a.createElement("svg",{"aria-hidden":"true",className:"svg-icon"},a.createElement("use",{href:"#edify-assignment"})),a.createElement("h2",{className:"notification-content__title"},n?"".concat(n," | "):"","Assignment")),a.createElement("div",{className:"notification-content__body"},t&&a.createElement("div",{className:"notification-content__subtitle"},t),a.createElement("div",{className:"notification-content__description"},o))),d&&a.createElement(h,v({},e,{handleModalClose:()=>{m(!1)}})))}function h(e){let{type:t,course:n,createdDate:o,dueDate:c,body:r,externalLink:d,pinned:m,handleModalClose:u,onPin:f,pinningAlowed:p}=e,E=(0,l.Z)(o,new Date,{addSuffix:!0});["minute","hour"].some((e=>E.includes(e)))&&(E="Today");const v=(0,_.Z)(c,"dd MMM"),g=(0,i.Z)();return a.createElement(s.Z,{titleId:g,onClose:u},a.createElement("div",{className:"notification-content-modal notification-content-modal--".concat(t)},a.createElement("header",{className:"notification-content-modal__header"},a.createElement("svg",{"aria-hidden":"true",className:"svg-icon"},a.createElement("use",{href:"#edify-assignment"})),a.createElement("h2",{id:g,className:"notification-content-modal__title"},n?"".concat(n," | "):""," Assignment")),a.createElement("div",{className:"notification-content-modal__body"},a.createElement("div",{className:"notification-content-modal__date-distance"},E),c?a.createElement("div",{className:"notification-content-modal__subtitle"},"Due ",v):a.createElement(a.Fragment,null),a.createElement("div",{className:"notification-content-modal__description"},r),a.createElement("a",{href:d,className:"notification-content-modal__link"},a.createElement("svg",{className:"svg-icon svg-icon--small"},a.createElement("title",null,"External link"),a.createElement("use",{href:"#external"})),"View in Canvas")),p&&a.createElement("footer",{className:"notification-content-modal__footer"},a.createElement("button",{type:"button",onClick:f,className:"notification-content-modal__pin"},a.createElement("svg",{"aria-hidden":"true",className:"svg-icon"},a.createElement("use",{href:"#pin"})),m?"Unpin it":"Pin it"))))}function N(e){const{type:t}=e;switch(t){case"announcement":return a.createElement(p,e);case"assignment":return a.createElement(g,e);default:return a.createElement(m,e)}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}function y(e){let{notifications:t,showLimit:n,pinnedList:o,pinningAlowed:i,setRead:c,setPinned:s}=e,r=t,d="";return n>-1&&(r=r.slice(0,n)),r.map(((e,n)=>{const{pinned:r}=e;let m,u=!1;return o||(m=(0,l.Z)(e.createdDate,new Date,{addSuffix:!0}),["minute","hour"].some((e=>m.includes(e)))&&(m="Today"),d!==m&&(u=!0,d=m)),a.createElement("li",{key:"".concat(e.id),className:"notification-item ".concat(r?"notification-item--pinned":"")},0===n&&o?a.createElement("div",{className:"notification-item__pinned"},"Pinned (".concat(t.length,")")):a.createElement(a.Fragment,null," "),!o&&u?a.createElement("div",{className:"notification-item__distance"},m):a.createElement(a.Fragment,null," "),a.createElement("div",{className:"notification-item__body"},a.createElement(N,b({},e,{onClick:()=>{e.read||c(e)},onPin:()=>s(e),pinningAlowed:i})),i?a.createElement("button",{type:"button",onClick:()=>s(e),className:"notification-item__icon ".concat(r?"notification-item__icon--pinned":"")},a.createElement("svg",{className:"svg-icon"},a.createElement("title",null,r?"Unpin":"Pin"," notification"),a.createElement("use",{href:r?"#pin-filled":"#pin-ghost"}))):a.createElement(a.Fragment,null)))}))}var P=n(58265);function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O.apply(this,arguments)}function C(e){let{popover:t,title:n,enablePinnedNotifications:l,showUnreadIndicator:s,notificationsLimit:r,pinnedLimit:d}=e;const{notifications:m,getNotifications:u,isMoreNotifications:f,pinnedNotifications:p,getPinnedNotifications:E,setPinned:_,unreadNotificationsCount:v,getUnreadNotificationsCount:g,setRead:h}=(0,a.useContext)(c.Z),[N,b]=(0,a.useState)(!1);(0,a.useEffect)((()=>{l&&E(),s&&g(),u({max:r,includePinned:!l})}),[l,r]);const C=(0,a.useCallback)((e=>{h({...e,read:!0})}),[h]),w=(0,a.useCallback)((e=>{_({...e,pinned:!e.pinned})}),[_]),k=(0,a.useCallback)((()=>{b(!N)}),[b,N]),I=(0,a.useCallback)((()=>{u({start:m.length,max:r,includePinned:!l})}),[m,r,l]),M=(0,i.Z)();function x(e){let{closeModal:t}=e;return a.createElement("div",{className:"no-wysiwyg notifications"},a.createElement("div",{className:"notifications__header"},a.createElement("h1",{id:M,className:"notifications__title"},n),a.createElement("button",{className:"notifications__header-button",type:"button",onClick:t},a.createElement("span",{className:"sr-only"},"Close"),a.createElement("svg",{className:"notifications__header-button-icon"},a.createElement("use",{href:"#close"})))),a.createElement("div",{className:"notifications__body"},l&&p.length>0&&a.createElement("ul",{"aria-label":"Pinned notifications",className:"notifications__list"},a.createElement(y,{notifications:p,showLimit:N?-1:d,showMore:k,pinnedList:!0,pinningAlowed:!0,setRead:C,setPinned:w})),l&&p.length>d&&a.createElement("button",{type:"button",onClick:k,className:"notifications__expand-pinned"},a.createElement("svg",{className:"svg-icon"},a.createElement("use",{href:"#add"})),"Show ",N?"less":"more"," (",p.length-d,")"),a.createElement("ul",{"aria-label":"Notifications",className:"notifications__list"},a.createElement(y,{notifications:m,pinningAlowed:l,setRead:C,setPinned:w})),f&&a.createElement("button",{type:"button",onClick:I,className:"notifications__more"},a.createElement("svg",{className:"svg-icon"},a.createElement("use",{href:"#add"})),"Show more")))}let R=null;return t&&(R=a.createElement(P.Z,{titleId:M,trigger:e=>{let{props:t,ref:n}=e;return a.createElement("button",O({ref:n},t,{type:"button",className:"notifications-wrapper__action"}),s&&v>0&&a.createElement("div",{"aria-label":"unread notifications",className:"notifications-wrapper__unread"},v),a.createElement("svg",{className:"svg-icon"},a.createElement("title",null,"View notifications"),a.createElement("use",{href:"#edify-notification"})))},className:"notification-popover"},a.createElement(x,null))),a.createElement(o.N3,{className:"notifications-wrapper"},null!==R?R:a.createElement(x,null))}},58265:function(e,t,n){n.d(t,{Z:function(){return f}});n(33948);var a=n(67294),o=n(45697),i=n.n(o),c=n(98069),l=n(64663),s=n(34708),r=n(49641),d=n(26333);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}const u=a.forwardRef(((e,t)=>{let{triggerRef:n,titleId:o,title:i,children:l,isOpen:u,onClose:f,className:p,...E}=e;const{overlayProps:_}=(0,c.Ir)({onClose:f,isOpen:u,isDismissable:!0,shouldCloseOnInteractOutside:e=>!(e.closest('[data-overlay-container]:not([aria-hidden="true"])')&&!e.closest('[aria-hidden="true"]'))&&(!!n.current.contains(e)||(f(),!1))},t),{modalProps:v}=(0,c.dd)(),{dialogProps:g,titleProps:h}=(0,s.R)({"aria-describedby":o},t);return a.createElement(r.MT,{contain:!0,restoreFocus:!0},a.createElement("div",m({},(0,d.dG)(_,g,E,v),{ref:t,className:"popover__dialog ".concat(p,"__dialog")}),o?"":a.createElement("h2",m({},h,{className:"popover__title ".concat(p,"__title")}),i),l,a.createElement(c.U4,{onDismiss:f})))}));function f(e){let{titleId:t,title:n,placement:o,trigger:i,className:s,children:r}=e;const[f,p]=(0,a.useState)(!1),E=a.useRef(),_=a.useRef(),{triggerProps:v,overlayProps:g}=(0,c.IB)({type:"dialog"},{isOpen:f},E),{overlayProps:h}=(0,c.tN)({targetRef:E,overlayRef:_,placement:o||"bottom right",offset:5,isOpen:f});delete h.style.zIndex;for(const[e,t]of Object.entries(h.style))h.style["--popover-".concat(e)]=isNaN(t)?t:"".concat(t,"px"),delete h.style[e];const{buttonProps:N}=(0,l.U)({onPress:()=>p(!0)},E),b=i({props:{...(0,d.dG)(N,v)},ref:E});return a.createElement(a.Fragment,null,b,f&&a.createElement(c.Xj,{className:"popover ".concat(s)},a.createElement(u,m({},g,h,{ref:_,triggerRef:E,titleId:t,title:n,isOpen:!0,onClose:()=>{p(!1)},className:s}),(0,a.cloneElement)(r,{closeModal:()=>p(!1)}))))}f.propTypes={titleId:i().string,title:i().string,trigger:i().func,className:i().string},f.defaultProps={titleId:"",title:"popover",trigger:e=>{let{props:t,ref:n}=e;return a.createElement("button",m({},t,{ref:n}),"Open popover")},className:"popover"}}}]);
//# sourceMappingURL=Notifications-44eadfb2f76018f558a0.js.map