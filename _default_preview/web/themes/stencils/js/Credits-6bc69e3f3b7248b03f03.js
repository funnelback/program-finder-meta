"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[191],{9556:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var n=a(67294),r=a(331),c=a(56078),l=a(98069),s=a(55125),o=a(2106),i=a(87553),m=a(66948);function d(e){let{balances:t,transactions:a,type:r,label:c,lowThreshold:l,showRecentTransactions:s,addCreditLink:o,allTransactionsLink:d,closeModal:p,popover:u}=e;const b=t[r]||"NaN",f=s&&a[r]||[],g=parseFloat(b)<l,v=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),E=n.createElement("div",{className:"credit-balance ".concat(u?"":"credit-balance--standalone")},u&&n.createElement("div",{className:"credit-balance__header"},"".concat(c," Balance")," ",n.createElement("button",{className:"credit-balance__header-button",type:"button",onClick:p},n.createElement("span",{className:"sr-only"},"Close"),n.createElement("svg",{className:"credit-balance__header-button-icon"},n.createElement("use",{href:"#close"})))),n.createElement("div",{className:"credit-balance__balance ".concat(g?"credit-balance__balance--low":"")},n.createElement("div",{className:"credit-balance__balance-amount"},v.format(b),g&&n.createElement("div",{className:"credit-balance__balance-amount-low"},n.createElement("svg",{className:"svg-icon svg-icon--small"},n.createElement("title",null,"Warning"),n.createElement("use",{href:"#warning"})),"Low balance")),o&&n.createElement("a",{href:o,className:"credit-balance__balance-add"},n.createElement("svg",{"aria-hidden":!0,className:"svg-icon svg-icon--small"},n.createElement("use",{href:"#add-alt"})),"Add more balance")),s&&f.length>0&&n.createElement("div",{className:"credit-balance__transactions"},n.createElement("ul",{className:"credit-balance__transactions-list"},f.map((e=>{let{id:t,label:a,amount:r,date:c}=e;return n.createElement("li",{key:t,className:"credit-transaction"},n.createElement("div",{className:"credit-transaction__details"},n.createElement("div",{className:"credit-transaction__label"},a),c&&n.createElement("div",{className:"credit-transaction__date"},(0,i.Z)(c,"dd MMM, yyyy, h:mmaaa"))),n.createElement("div",{className:"credit-transaction__amount"},v.format(r)))}))),d&&n.createElement("a",{href:d,className:"credit-balance__all-transactions"},n.createElement("svg",{className:"svg-icon svg-icon--small"},n.createElement("title",null,"External link"),n.createElement("use",{href:"#external"})),"See all transactions")));return u?E:n.createElement(m.Z,{title:"".concat(c," Balance"),scrollable:!0},E)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p.apply(this,arguments)}function u(e){let{popover:t=!1,summaryMode:a=!1,balanceTypes:i}=e;const{balances:m,getBalances:u,transactions:b,getTransactions:f}=(0,n.useContext)(s.Z);return(0,n.useEffect)((()=>{u(i.map((e=>e.type)))}),[i]),(0,n.useEffect)((()=>{a||f(i.filter((e=>e.showRecentTransactions)).map((e=>e.type)))}),[a,i]),(0,c.j)(),t?n.createElement(l.N3,{className:"no-wysiwyg credits-wrapper"},i.map((e=>{if(t){const t=(0,r.Z)();return n.createElement(o.Z,{key:e.type,titleId:t,trigger:t=>{let{props:a,ref:r}=t;return n.createElement("button",p({ref:r},a,{type:"button",className:"credits-wrapper__action"}),n.createElement("svg",{className:"svg-icon"},n.createElement("title",null,"View ".concat(e.type," balance")),n.createElement("use",{href:"#".concat(e.icon)})))},className:"credits-popover"},n.createElement(d,p({popover:!0},e,{balances:m,transactions:b})))}return n.createElement(d,p({popover:!1,key:e.type},e,{balances:m,transactions:b}))}))):n.createElement("div",{className:"no-wysiwyg credits-wrapper credits-wrapper--standalone"},i.map((e=>n.createElement(d,p({popover:!1,key:e.type},e,{balances:m,transactions:b})))))}},2106:function(e,t,a){a.d(t,{Z:function(){return u}});a(33948);var n=a(67294),r=a(45697),c=a.n(r),l=a(98069),s=a(64663),o=a(34708),i=a(49641),m=a(26333);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}const p=n.forwardRef(((e,t)=>{let{triggerRef:a,titleId:r,title:c,children:s,isOpen:p,onClose:u,className:b,...f}=e;const{overlayProps:g}=(0,l.Ir)({onClose:u,isOpen:p,isDismissable:!0,shouldCloseOnInteractOutside:e=>!(e.closest('[data-overlay-container]:not([aria-hidden="true"])')&&!e.closest('[aria-hidden="true"]'))&&(!!a.current.contains(e)||(u(),!1))},t),{modalProps:v}=(0,l.dd)(),{dialogProps:E,titleProps:y}=(0,o.R)({"aria-describedby":r},t);return n.createElement(i.MT,{contain:!0,restoreFocus:!0},n.createElement("div",d({},(0,m.dG)(g,E,f,v),{ref:t,className:"popover__dialog ".concat(b,"__dialog")}),r?"":n.createElement("h2",d({},y,{className:"popover__title ".concat(b,"__title")}),c),s,n.createElement(l.U4,{onDismiss:u})))}));function u(e){let{titleId:t,title:a,placement:r,trigger:c,className:o,children:i}=e;const[u,b]=(0,n.useState)(!1),f=n.useRef(),g=n.useRef(),{triggerProps:v,overlayProps:E}=(0,l.IB)({type:"dialog"},{isOpen:u},f),{overlayProps:y}=(0,l.tN)({targetRef:f,overlayRef:g,placement:r||"bottom right",offset:5,isOpen:u});delete y.style.zIndex;for(const[e,t]of Object.entries(y.style))y.style["--popover-".concat(e)]=isNaN(t)?t:"".concat(t,"px"),delete y.style[e];const{buttonProps:_}=(0,s.U)({onPress:()=>b(!0)},f),N=c({props:{...(0,m.dG)(_,v)},ref:f});return n.createElement(n.Fragment,null,N,u&&n.createElement(l.Xj,{className:"popover ".concat(o)},n.createElement(p,d({},E,y,{ref:g,triggerRef:f,titleId:t,title:a,isOpen:!0,onClose:()=>{b(!1)},className:o}),(0,n.cloneElement)(i,{closeModal:()=>b(!1)}))))}u.propTypes={titleId:c().string,title:c().string,trigger:c().func,className:c().string},u.defaultProps={titleId:"",title:"popover",trigger:e=>{let{props:t,ref:a}=e;return n.createElement("button",d({},t,{ref:a}),"Open popover")},className:"popover"}}}]);
//# sourceMappingURL=Credits-6bc69e3f3b7248b03f03.js.map