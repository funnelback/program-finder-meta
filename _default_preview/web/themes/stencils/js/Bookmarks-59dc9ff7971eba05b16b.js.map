{"version":3,"file":"js/Bookmarks-59dc9ff7971eba05b16b.js","mappings":"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","sources":["webpack://Plug-and-Play-Template/./src/modules/bookmarks/jsx/bookmarks.jsx","webpack://Plug-and-Play-Template/./src/modules/collapsible-card/jsx/Card.jsx","webpack://Plug-and-Play-Template/./src/modules/modal/jsx/modal.jsx"],"sourcesContent":["/* eslint-disable react/no-array-index-key */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n\nimport React, {\n    useState,\n    useCallback,\n    useEffect,\n    useRef,\n    createRef,\n    useContext,\n} from 'react';\nimport { OverlayProvider } from '@react-aria/overlays';\n// import { BookmarkService } from 'PlugAndPlay/_data-layer/js/global';\n// import {\n//     BookmarkProvider,\n//     BookmarkContext,\n// } from 'PlugAndPlay/_data-layer/jsx/global';\nimport uuidv4 from 'PlugAndPlay/_global/js/uuid';\nimport BookmarkContext from './data/BookmarkContext';\n\nimport Modal from '../../modal/jsx/modal';\nimport Card from '../../collapsible-card/jsx/Card';\n\n/**\n * @param url string\n *\n * return true/false if the URL is a valid HTTP or HTTPS URL\n */\nconst isValidURL = (url) => {\n    const res = url.match(\n        /^(((H|h)(T|t)(T|t)(P|p)(S|s)?):\\/\\/)?[-a-zA-Z0-9@:%._+~#=]{2,100}\\.[a-zA-Z]{2,10}(\\/([-a-zA-Z0-9@:%_+.~#?&//=]*))?/\n    );\n\n    return res !== null;\n};\n\n/**\n * Returns the possible favicon URL for the specified URL.\n *\n * @param {string} url The URL.\n * @param {number} size The icon size.\n *\n * @returns {string} The favicon URL.\n */\nconst getFaviconURL = (url, size = 24) => {\n    let faviconURL = ``;\n    try {\n        const linkURL = new URL(url);\n\n        // Use the Google service to retrieve the favicon. Optional param = &sz=64.\n        faviconURL = `https://www.google.com/s2/favicons?domain=${linkURL.hostname}&sz=${size}`;\n    } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(`invalid URL: ${url}`);\n    }\n\n    return faviconURL;\n};\n\n/**\n * Add protocol to URL.\n *\n * @param {string} url The URL to test.\n *\n * @returns {string} URL with protocol.\n */\nconst addProtocol = (url) => {\n    let _url = url;\n    if (!/^(?:f|ht)tps?:\\/\\//.test(url)) {\n        _url = `https://${url}`;\n    }\n    return _url;\n};\n\nfunction QuickLinksDialog({\n    currentLinks,\n    initialView,\n    maxLinks,\n    onDialogClose,\n    initialTitle,\n    initialSubtitle,\n    onSave,\n    formSpec,\n}) {\n    const urlTimer = useRef(null);\n    const urlRef = createRef(null);\n\n    const [view, setView] = useState(initialView);\n    const [title, setTitle] = useState(initialTitle);\n    const [subtitle, setSubtitle] = useState(initialSubtitle);\n    const [links, setLinks] = useState(currentLinks);\n\n    const [editIndex, setEditIndex] = useState(null);\n    const [urlValue, setURLValue] = useState(``);\n    const [URLFieldError, setURLFieldError] = useState(``);\n    const [titleValue, setTitleValue] = useState(``);\n    const [disableSaveButton, setDisableSaveButton] = useState(true);\n\n    const editBookmark = (e, link, index) => {\n        setURLValue(link.url);\n        setTitleValue(link.title);\n        setView(`edit`);\n        setTitle(`Update Bookmark`);\n        setSubtitle(``);\n        setDisableSaveButton(false);\n        setEditIndex(index);\n    };\n\n    const addBookmark = () => {\n        setView(`add`);\n        setTitle(`Add bookmark`);\n        setSubtitle(``);\n        setURLValue(``);\n        setTitleValue(``);\n        setDisableSaveButton(true);\n    };\n\n    const handleGoBack = () => {\n        setView(`list`);\n        setTitle(initialTitle);\n        setSubtitle(initialSubtitle);\n    };\n\n    const handleDeleteBookmark = (e, index) => {\n        const newLinks = [...links];\n        newLinks.splice(index, 1);\n        setLinks(newLinks);\n        setDisableSaveButton(false);\n\n        if (onSave) {\n            onSave(newLinks);\n        }\n\n        if (newLinks.length <= 0) {\n            addBookmark();\n        }\n    };\n\n    const handleSaveBookmark = () => {\n        const newLinks = [...links];\n        if (editIndex !== null && view === `edit`) {\n            newLinks[editIndex].title = titleValue;\n            newLinks[editIndex].url = addProtocol(urlValue);\n        }\n        if (view === `add` || view === `add-only`) {\n            if (urlValue) {\n                newLinks.push({\n                    title: titleValue,\n                    url: addProtocol(urlValue),\n                });\n            }\n        }\n\n        setLinks(newLinks);\n        onSave(newLinks);\n        setView(`list`);\n    };\n\n    useEffect(() => {\n        if (urlRef && urlRef.current) {\n            urlRef.current.focus();\n        }\n    }, [view]);\n\n    const handleURLChange = useCallback((event) => {\n        const { value } = event.target;\n        setURLValue(value);\n        clearTimeout(urlTimer.current);\n        setDisableSaveButton(true);\n        urlTimer.current = setTimeout(() => {\n            if (value.trim().length === 0) {\n                setDisableSaveButton(true);\n                setURLFieldError(`URL link is required`);\n            } else if (isValidURL(value) === false) {\n                setDisableSaveButton(true);\n                setURLFieldError(`The given URL link is invalid`);\n            } else {\n                setDisableSaveButton(false);\n                setURLFieldError(``);\n            }\n        }, 1000);\n    }, []);\n\n    const handleTitleChange = useCallback(\n        (event) => {\n            setTitleValue(event.currentTarget.value);\n\n            if (urlValue.length > 0 && URLFieldError !== ``) {\n                setDisableSaveButton(false);\n            }\n        },\n        [urlValue]\n    );\n\n    const handleEnterPress = useCallback(\n        (event) => {\n            if (event.keyCode === 13 && URLFieldError === ``) {\n                handleSaveBookmark();\n            }\n        },\n        [URLFieldError, titleValue, urlValue]\n    );\n\n    function customFooter(canSave) {\n        return (\n            <footer\n                className={[\n                    `quicklinks-modal__footer`,\n                    view !== 'list' && `quicklinks-modal__footer-right-aligned`,\n                ].join(' ')}\n            >\n                {view === 'list' ? (\n                    <>\n                        {links && links.length === maxLinks ? (\n                            <p className=\"quicklinks__dialog-limit-message\">\n                                You have reached your bookmark limit.\n                            </p>\n                        ) : (\n                            <div className=\"quicklinks-modal__footer-buttons-container\">\n                                <button\n                                    aria-label=\"Add new bookmark\"\n                                    type=\"button\"\n                                    className=\"quicklinks-modal__footer-button quicklinks-modal__footer-button--dashed\"\n                                    onClick={(e) => addBookmark(e)}\n                                >\n                                    <svg className=\"svg-icon\">\n                                        <use href=\"#add\" />\n                                    </svg>\n                                </button>\n                            </div>\n                        )}\n                    </>\n                ) : (\n                    <div className=\"quicklinks-modal__footer-buttons-container\">\n                        {links && links.length > 0 && (\n                            <button\n                                type=\"button\"\n                                className=\"quicklinks-modal__footer-button\"\n                                aria-label=\"Go back\"\n                                onClick={(e) => handleGoBack(e)}\n                            >\n                                Go Back\n                            </button>\n                        )}\n                        <button\n                            type=\"button\"\n                            aria-label=\"Save new bookmark\"\n                            disabled={canSave}\n                            className=\"quicklinks-modal__footer-button quicklinks-modal__footer-button--save\"\n                            onClick={(e) => handleSaveBookmark(e)}\n                        >\n                            Save\n                        </button>\n                    </div>\n                )}\n            </footer>\n        );\n    }\n\n    const titleId = uuidv4(); // Modal needs a id for the dialog described by\n    return (\n        <OverlayProvider>\n            <Modal\n                titleId={titleId}\n                className=\"quicklinks-modal\"\n                onClose={onDialogClose}\n            >\n                <header className=\"quicklinks-modal__header\">\n                    <h1 id={titleId} className=\"quicklinks-modal__title\">\n                        {title}\n                    </h1>\n                    {subtitle && (\n                        <h2 className=\"quicklinks-modal__subtitle\">\n                            {subtitle}\n                        </h2>\n                    )}\n                    <button\n                        type=\"button\"\n                        onClick={onDialogClose}\n                        className=\"quicklinks-modal__header-close\"\n                    >\n                        <svg className=\"svg-icon svg-icon-\">\n                            <title>Close modal</title>\n                            <use href=\"#close\" />\n                        </svg>\n                    </button>\n                </header>\n\n                <div className=\"quicklinks-modal__body\">\n                    {view === `list` && (\n                        <>\n                            {links &&\n                                links.map((link, index) => {\n                                    return (\n                                        <div\n                                            className=\"quicklinks-modal__container\"\n                                            key={index}\n                                        >\n                                            <button\n                                                type=\"button\"\n                                                aria-label={`Edit bookmark ${link.title}`}\n                                                className=\"quicklinks-modal__edit-button\"\n                                                onClick={(e) =>\n                                                    editBookmark(e, link, index)\n                                                }\n                                            >\n                                                <div className=\"bookmark-icon\">\n                                                    <img\n                                                        alt=\"link icon\"\n                                                        className=\"bookmark-icon-image\"\n                                                        height={24}\n                                                        src={getFaviconURL(\n                                                            link.url\n                                                        )}\n                                                        loading=\"lazy\"\n                                                        width={24}\n                                                    />\n                                                </div>\n                                                <div className=\"quicklinks-modal__edit-button-title\">\n                                                    {link.title}\n                                                </div>\n                                                <svg className=\"svg-icon\">\n                                                    <use href=\"#edit\" />\n                                                </svg>\n                                            </button>\n\n                                            <button\n                                                type=\"button\"\n                                                aria-label={`Delete bookmark ${link.title}`}\n                                                className=\"quicklinks-modal__delete-button\"\n                                                onClick={(e) =>\n                                                    handleDeleteBookmark(\n                                                        e,\n                                                        index\n                                                    )\n                                                }\n                                            >\n                                                <svg className=\"svg-icon\">\n                                                    <use href=\"#subtract-alt\" />\n                                                </svg>\n                                            </button>\n                                        </div>\n                                    );\n                                })}\n                        </>\n                    )}\n                    {(view === `add` ||\n                        view === `add-only` ||\n                        view === `edit`) && (\n                        <div className=\"form custom-form custom-form--color-grey70\">\n                            <div\n                                className=\"sq-form-question sq-form-question-text\"\n                                id=\"sq_form_field_wrapper_bookmark-url\"\n                            >\n                                <label\n                                    className=\"sq-form-question-title\"\n                                    htmlFor=\"bookmark-url-input\"\n                                >\n                                    Link\n                                    <abbr\n                                        className=\"sq-form-required-field\"\n                                        title=\"required\"\n                                    >\n                                        *\n                                    </abbr>\n                                </label>\n                                <div className=\"sq-form-question-answer\">\n                                    <input\n                                        ref={urlRef}\n                                        autoComplete=\"off\"\n                                        autoCapitalize=\"off\"\n                                        type=\"text\"\n                                        name=\"bookmark-url\"\n                                        size=\"30\"\n                                        maxLength=\"300\"\n                                        placeholder={\n                                            formSpec.linkUrlPlaceholder\n                                        }\n                                        id=\"bookmark-url-input\"\n                                        className=\"sq-form-field\"\n                                        value={urlValue}\n                                        onChange={handleURLChange}\n                                        onKeyDown={handleEnterPress}\n                                    />\n                                </div>\n                                <span className=\"sq-form-error\">\n                                    {URLFieldError}\n                                </span>\n                            </div>\n                            <div\n                                className=\"sq-form-question sq-form-question-text\"\n                                id=\"sq_form_field_wrapper_bookmark-title\"\n                            >\n                                <label\n                                    className=\"sq-form-question-title\"\n                                    htmlFor=\"bookmark-tile-input\"\n                                >\n                                    Name of bookmark\n                                </label>\n                                <div className=\"sq-form-question-answer\">\n                                    <input\n                                        autoComplete=\"off\"\n                                        type=\"text\"\n                                        name=\"bookmark-title\"\n                                        size=\"30\"\n                                        maxLength=\"300\"\n                                        placeholder={\n                                            formSpec.linkTitlePlaceholder\n                                        }\n                                        id=\"bookmark-tile-input\"\n                                        className=\"sq-form-field\"\n                                        value={titleValue}\n                                        onChange={handleTitleChange}\n                                        onKeyDown={handleEnterPress}\n                                    />\n                                </div>\n                                <em className=\"sq-form-question-note\">\n                                    Try to keep it as short as possible.\n                                </em>\n                            </div>\n                        </div>\n                    )}\n                </div>\n                {customFooter(disableSaveButton)}\n            </Modal>\n        </OverlayProvider>\n    );\n}\n\nfunction QuickLinksList({\n    links,\n    maxLinks,\n    dialogView,\n    addBookmarks,\n    onDialogClose,\n    onSave,\n    formSpec,\n    listSpec,\n}) {\n    const handleClick = (e, location) => {\n        if (listSpec.openLinkTarget === '_blank') {\n            window.open(location, '_blank');\n        } else {\n            window.location.href = location;\n        }\n    };\n\n    return (\n        <div className=\"quicklinks__list\">\n            {links &&\n                links.map((link, index) => {\n                    return (\n                        <div className=\"quicklinks__link\" key={index}>\n                            <button\n                                type=\"button\"\n                                aria-label={`Open bookmark ${link.title}`}\n                                className=\"quicklinks__button\"\n                                onClick={(e) => handleClick(e, link.url)}\n                            >\n                                <div className=\"quicklinks__link-icon\">\n                                    <img\n                                        alt=\"link icon\"\n                                        className=\"quicklinks__link-icon-image\"\n                                        height={24}\n                                        src={getFaviconURL(link.url)}\n                                        loading=\"lazy\"\n                                        width={24}\n                                    />\n                                </div>\n                                <div className=\"quicklinks__link-title\">\n                                    {link.title}\n                                </div>\n                            </button>\n                        </div>\n                    );\n                })}\n            {(!maxLinks || links.length < maxLinks) && (\n                <div className=\"quicklinks__link\">\n                    <button\n                        type=\"button\"\n                        aria-label=\"Add new bookmark\"\n                        className=\"quicklinks__button quicklinks__button--dashed\"\n                        onClick={addBookmarks}\n                    >\n                        <svg className=\"svg-icon\">\n                            <use href=\"#add\" />\n                        </svg>\n                    </button>\n                </div>\n            )}\n            {dialogView === `list` && (\n                <QuickLinksDialog\n                    currentLinks={links}\n                    maxLinks={maxLinks}\n                    onDialogClose={onDialogClose}\n                    initialView={dialogView}\n                    initialTitle=\"Bookmarks\"\n                    initialSubtitle=\"Add up to four bookmarks.\"\n                    onSave={onSave}\n                    formSpec={formSpec}\n                />\n            )}\n            {dialogView === `add-only` && (\n                <QuickLinksDialog\n                    currentLinks={links}\n                    maxLinks={maxLinks}\n                    onDialogClose={onDialogClose}\n                    initialView={dialogView}\n                    initialTitle=\"New bookmark\"\n                    onSave={onSave}\n                    formSpec={formSpec}\n                />\n            )}\n        </div>\n    );\n}\n\nexport default function Bookmarks({ title, maxLinks, formSpec, listSpec }) {\n    const [showEditBookmarks, setShowEditBookmarks] = useState(false);\n    const [dialogView, setDialogView] = useState('list');\n    const { bookmarks, getBookmarks, updateBookmarks } =\n        useContext(BookmarkContext);\n\n    useEffect(() => {\n        (async () => {\n            await getBookmarks();\n            if (bookmarks.length <= 0) {\n                setDialogView('add-only');\n            } else {\n                setDialogView('list');\n            }\n        })();\n    }, []);\n\n    const editBookmarks = useCallback(() => {\n        if (bookmarks.length <= 0) {\n            setDialogView('add-only');\n        } else {\n            setDialogView('list');\n        }\n        setShowEditBookmarks(true);\n    }, [bookmarks]);\n\n    const addBookmarks = useCallback(() => {\n        setDialogView('add-only');\n        setShowEditBookmarks(true);\n    }, []);\n\n    const handleDialogClose = useCallback(() => {\n        setShowEditBookmarks(false);\n    }, []);\n\n    const handleSave = useCallback((newBookmarks) => {\n        (async () => {\n            await updateBookmarks(newBookmarks);\n        })();\n    }, []);\n\n    const headingIcon = () => {\n        return (\n            <button\n                type=\"button\"\n                aria-label=\"Edit bookmarks\"\n                onClick={editBookmarks}\n                className=\"heading-icon\"\n            >\n                <svg className=\"svg-icon\">\n                    <use href=\"#edit\" />\n                </svg>\n            </button>\n        );\n    };\n\n    return (\n        <Card\n            headingIcon={headingIcon()}\n            title={title}\n            wrapperClasses=\"quicklinks\"\n            contentClasses=\"quicklinks__container\"\n        >\n            <QuickLinksList\n                dialogView={showEditBookmarks === true ? dialogView : undefined}\n                links={bookmarks}\n                maxLinks={maxLinks}\n                onDialogClose={handleDialogClose}\n                onSave={handleSave}\n                formSpec={formSpec}\n                listSpec={listSpec}\n                addBookmarks={addBookmarks}\n            />\n        </Card>\n    );\n}\n\nBookmarks.defaultProps = {\n    maxLinks: 4,\n    title: ``,\n    documentId: 666,\n    listSpec: {\n        openLinkTarget: `_blank`,\n    },\n    formSpec: {\n        linkUrlPlaceholder: `Enter your link url`,\n        linkTitlePlaceholder: `Enter your link title`,\n    },\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useCallback, useState } from 'react';\n\nfunction CardHeading({\n    children,\n    toggleIsCollapsed,\n    isCollapsed,\n    isCollapsible,\n    id,\n}) {\n    if (isCollapsible) {\n        return (\n            <button\n                className=\"collapsible-card__header\"\n                type=\"button\"\n                onClick={toggleIsCollapsed}\n                aria-expanded={!isCollapsed}\n                aria-controls={`content-${id}`}\n            >\n                {children}\n            </button>\n        );\n    }\n\n    return <div className=\"collapsible-card__header\">{children}</div>;\n}\n\nexport default function Card(props) {\n    const {\n        wrapperClasses,\n        contentClasses,\n        children,\n        id,\n        headingIcon,\n        isCollapsible,\n        isInitialCollapsed,\n        isScrollable,\n        subTitle,\n        title,\n        ...rest\n    } = props;\n\n    let storageId = ``;\n\n    if (id) {\n        storageId = `ComponentCard-${id}`;\n    }\n\n    let storageIsCollapsed = isInitialCollapsed || false;\n    if (storageId) {\n        storageIsCollapsed = localStorage.getItem(storageId) === `collapsed`;\n    }\n\n    const [isCollapsed, setCollapsed] = useState(storageIsCollapsed);\n\n    const wrapperClass = [\n        'collapsible-card',\n        'no-wysiwyg',\n        wrapperClasses,\n    ].join(' ');\n    const contentClass = [\n        'collapsible-card__contents',\n        contentClasses,\n        isScrollable && 'collapsible-card--scrollable',\n    ].join(' ');\n    const collapseClass = [\n        'svg-icon',\n        isCollapsed === false && 'collapsible-card__collapsed',\n    ].join(' ');\n\n    const toggleIsCollapsed = useCallback(() => {\n        setCollapsed(!isCollapsed);\n\n        if (storageId) {\n            localStorage.setItem(storageId, !isCollapsed ? `collapsed` : ``);\n        }\n    }, [storageId, isCollapsed]);\n\n    return (\n        <div className={wrapperClass} id={id} {...rest}>\n            <CardHeading\n                isCollapsible={isCollapsible}\n                toggleIsCollapsed={toggleIsCollapsed}\n                isCollapsed={isCollapsed}\n                id={id}\n            >\n                <h2 className=\"collapsible-card__header-text\">{title}</h2>\n                {(subTitle || isCollapsible || headingIcon) && (\n                    <div className=\"collapsible-card__header-right\">\n                        {subTitle && (\n                            <h3 className=\"collapsible-card__header-text collapsible-card__header-text--sub-title\">\n                                {subTitle}\n                            </h3>\n                        )}\n                        {isCollapsible && (\n                            <svg\n                                className={`${collapseClass} collapsible-card__more-menu-icon`}\n                            >\n                                <title>\n                                    {isCollapsed\n                                        ? `Expand panel`\n                                        : `Collapse panel`}\n                                </title>\n                                <use href=\"#chevron\" />\n                            </svg>\n                        )}\n                        {headingIcon}\n                    </div>\n                )}\n            </CardHeading>\n            {(isCollapsible !== true ||\n                (isCollapsible === true && isCollapsed === false)) && (\n                <div\n                    className={contentClass}\n                    id={`content-${id}`}\n                    role=\"region\"\n                    tabIndex={-1}\n                >\n                    {children}\n                </div>\n            )}\n        </div>\n    );\n}\n","/* eslint-disable react/jsx-props-no-spreading */ // Disabled as prop spreading is the documented way to use the @react-aria framework\nimport React, { useEffect } from 'react';\nimport {\n    useOverlay,\n    usePreventScroll,\n    useModal,\n    OverlayContainer,\n} from '@react-aria/overlays';\nimport { useDialog } from '@react-aria/dialog';\nimport { FocusScope, useFocusManager } from '@react-aria/focus';\n\n/**\n * React implementation of the Plug and Play Modal, uses the Adobe @react-aria package\n * to handle the modal / dialog related accessability concerns such as focus movement, focus traps,\n * ESC to close ect.\n *\n * Needs to be wrapped within a <OverlayProvider> to aria hide the application when the modal opens.\n *\n * Comments on @react-aria hooks come directly from their documentation.\n */\nexport default function Modal({\n    titleId,\n    title,\n    onClose,\n    children,\n    className,\n}) {\n    return (\n        <OverlayContainer>\n            <div\n                className={`no-wysiwyg modal-wrapper ${\n                    className ? `${className}-wrapper` : ''\n                }`}\n            >\n                <FocusScope contain restoreFocus autoFocus>\n                    <ModalContent\n                        titleId={titleId}\n                        title={title}\n                        onClose={onClose}\n                        className={className}\n                    >\n                        {children}\n                    </ModalContent>\n                </FocusScope>\n            </div>\n        </OverlayContainer>\n    );\n}\n\nfunction ModalContent({ titleId, title, onClose, children, className }) {\n    // Base settings for @react-aria hooks\n    const settings = {\n        'aria-describedby': titleId,\n        title,\n        onClose,\n        isDismissable: true,\n        isOpen: true,\n    };\n\n    const modalRef = React.useRef();\n    const modalContentRef = React.useRef();\n    const focusManager = useFocusManager();\n\n    /*\n        Provides the behavior for overlays such as dialogs, popovers, and menus. Hides the overlay when\n        the user interacts outside it, when the Escape key is pressed, or optionally, on blur.\n    */\n    const { overlayProps, underlayProps } = useOverlay(\n        settings,\n        modalContentRef\n    );\n\n    /*\n        Prevents scrolling on the document body on mount, and restores it on unmount.\n        Also ensures that content does not shift due to the scrollbars disappearing.\n    */\n    usePreventScroll();\n\n    /*\n        Hides content outside the current <OverlayContainer> from screen readers on mount and restores it on unmount.\n    */\n    const { modalProps } = useModal();\n\n    /*\n        Provides the behavior and accessibility implementation for a dialog component.\n    */\n    const { dialogProps, titleProps } = useDialog(settings, modalContentRef);\n\n    /*\n        Remove the hidden attribute as soon as its drawn to the DOM so it transitions open like\n        the base ES6 modal in the framework.\n    */\n    useEffect(() => {\n        modalRef.current.removeAttribute('hidden');\n        focusManager.focusFirst(); // FocusScope autofocus property wont work due to being hidden so focus first now\n    }, [modalRef]);\n\n    return (\n        <div\n            ref={modalRef}\n            {...underlayProps}\n            hidden\n            className={`modal ${className || ''}`}\n        >\n            <div\n                ref={modalContentRef}\n                {...overlayProps}\n                {...dialogProps}\n                {...modalProps}\n                aria-modal=\"true\"\n                tabIndex=\"-1\"\n                className={`modal__content ${\n                    className ? `${className}__content` : ''\n                }`}\n            >\n                {titleId ? (\n                    ''\n                ) : (\n                    <h2\n                        {...titleProps}\n                        className={`${className ? `${className}__title` : ''}`}\n                    >\n                        {title}\n                    </h2>\n                )}\n                {children}\n            </div>\n        </div>\n    );\n}\n"],"names":["getFaviconURL","url","size","faviconURL","linkURL","URL","hostname","error","console","addProtocol","_url","test","QuickLinksDialog","currentLinks","initialView","maxLinks","onDialogClose","initialTitle","initialSubtitle","onSave","formSpec","urlTimer","useRef","urlRef","createRef","view","setView","useState","title","setTitle","subtitle","setSubtitle","links","setLinks","editIndex","setEditIndex","urlValue","setURLValue","URLFieldError","setURLFieldError","titleValue","setTitleValue","disableSaveButton","setDisableSaveButton","addBookmark","handleSaveBookmark","newLinks","push","useEffect","current","focus","handleURLChange","useCallback","event","value","target","clearTimeout","setTimeout","trim","length","match","handleTitleChange","currentTarget","handleEnterPress","keyCode","titleId","uuidv4","className","onClose","id","type","onClick","href","map","link","index","key","e","editBookmark","alt","height","src","loading","width","splice","handleDeleteBookmark","htmlFor","ref","autoComplete","autoCapitalize","name","maxLength","placeholder","linkUrlPlaceholder","onChange","onKeyDown","linkTitlePlaceholder","canSave","join","disabled","QuickLinksList","dialogView","addBookmarks","listSpec","handleClick","location","openLinkTarget","window","open","Bookmarks","showEditBookmarks","setShowEditBookmarks","setDialogView","bookmarks","getBookmarks","updateBookmarks","useContext","BookmarkContext","editBookmarks","handleDialogClose","handleSave","newBookmarks","headingIcon","wrapperClasses","contentClasses","undefined","defaultProps","documentId","CardHeading","children","toggleIsCollapsed","isCollapsed","isCollapsible","Card","props","isInitialCollapsed","isScrollable","subTitle","rest","storageId","storageIsCollapsed","localStorage","getItem","setCollapsed","wrapperClass","contentClass","collapseClass","setItem","role","tabIndex","Modal","contain","restoreFocus","autoFocus","ModalContent","settings","isDismissable","isOpen","modalRef","React","modalContentRef","focusManager","useFocusManager","overlayProps","underlayProps","useOverlay","usePreventScroll","modalProps","useModal","dialogProps","titleProps","useDialog","removeAttribute","focusFirst","hidden"],"sourceRoot":""}