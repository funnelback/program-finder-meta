"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[213],{44443:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});n(33948);var a=n(67294),l=n(98069),r=n(69119),c=n(83894),s=n(584),i=n(67090),o=n(43703),d=n(4135),m=n(331),u=n(17681),v=n(27354);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}function E(e){let{uniqueId:t,icon:n,iconTitle:l,text:r,children:c,className:s}=e;const i=(0,a.createRef)(),[o,d]=(0,a.useState)(!1),{focusWithinProps:m}=(0,v.L_)({onBlurWithin:()=>{d(!1)}}),{keyboardProps:u}=(0,v.v5)({onKeyDown:e=>{o&&"Escape"===e.key&&(d(!1),i.current.focus())}}),E=a.Children.map(c,(e=>a.isValidElement(e)?a.cloneElement(e,{onClick:()=>{d(!1),i.current.focus(),e.props.onClick()}}):e));return a.createElement("div",h({},m,u,{className:"button-menu ".concat(s)}),a.createElement("button",{ref:i,type:"button","aria-expanded":o,"aria-controls":"".concat(t,"-button-menu-menu"),onClick:()=>d(!o),className:"button-menu__button"},n&&a.createElement("svg",{className:"svg-icon button-menu__icon"},l&&a.createElement("title",null,l),a.createElement("use",{href:"#".concat(n)})),r&&a.createElement("span",{className:"button-menu__label"},r)),a.createElement("ul",{id:"".concat(t,"-button-menu-menu"),className:"button-menu__menu ".concat(o?"button-menu__menu--open":"")},E))}function g(e){let{label:t,onClick:n}=e;return a.createElement("li",{className:"button-menu__item"},a.createElement("button",{type:"button",onClick:n,className:"button-menu__item-select"},a.createElement("span",{className:"button-menu__item-label"},t)))}var p=n(11321),_=n(46984),f=n(63738),y=n.n(f),b=(n(6564),n(30890)),N=n(11640);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(this,arguments)}function w(e){let{date:t,viewType:n,onDateChange:l}=e;const r=(0,a.createRef)(),[c,s]=(0,a.useState)(!1);let i=1,o=-1;n===_.Y.Week?(i=7,o=-7):n===_.Y.Month&&(i=(0,b.Z)(t),o=-1*(0,b.Z)((0,N.Z)(t,-1)));const d=e=>{let{numberOfDays:n}=e;const a=new Date(t);a.setDate(a.getDate()+n),l(a)},{focusWithinProps:m}=(0,v.L_)({onBlurWithin:()=>{s(!1)}}),{keyboardProps:u}=(0,v.v5)({onKeyDown:e=>{c&&"Escape"===e.key&&(s(!1),r.current.focus())}});return a.createElement("div",{className:"calendar-sub-header"},a.createElement("div",C({},m,u,{className:"calendar-date-picker"}),a.createElement("button",{ref:r,type:"button",onClick:()=>s(!c),className:"calendar-date-picker__button"},a.createElement("span",{className:"calendar-date-picker__button-aria"},"Toggle date picker"),t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),a.createElement("svg",{"aria-hidden":!0,className:"svg-icon svg-icon--small"},a.createElement("use",{href:"#chevron"}))),a.createElement("div",{className:"calendar-date-picker__picker ".concat(c?"calendar-date-picker__picker--open":"")},a.createElement(y(),{onDayClick:e=>{l(e),s(!1),r.current.focus()}}))),a.createElement("div",{className:"calendar-sub-header__date-controls"},a.createElement("button",{type:"button",onClick:()=>{l(new Date)},className:"calendar-sub-header__date-action"},"Today"),a.createElement("button",{type:"button",onClick:()=>d({numberOfDays:o}),className:"calendar-sub-header__date-action"},a.createElement("svg",{className:"svg-icon svg-icon--small svg-icon--previous"},a.createElement("title",null,"Previous day"),a.createElement("use",{href:"#chevron"}))),a.createElement("button",{type:"button",onClick:()=>d({numberOfDays:i}),className:"calendar-sub-header__date-action"},a.createElement("svg",{className:"svg-icon svg-icon--small svg-icon--next"},a.createElement("title",null,"Next day"),a.createElement("use",{href:"#chevron"})))))}var k=n(306),D=n(21768),T=n(51872);class P{constructor(e,t){this.event=e,this.fcEvent=t}getCalendarItemTitle(){return this.event.title}getDayViewContent(){const e=this.getCalendarItemTitle();let{start:t,end:n}=this.event;const{allDay:l,type:r,icon:c,iconAlt:s,description:i,duration:o,bannerHighlight:d,recurrence:m}=this.event;m&&0!==m.length&&({start:t,end:n}=this.fcEvent);const u=(0,k.p6d)(t,{hour:"numeric",minute:"2-digit",hour12:!1}),v=n&&(0,k.p6d)(n,{hour:"numeric",minute:"2-digit",hour12:!1});return a.createElement("div",{className:"calendar-event ".concat(d?"calendar-event--highlightable":""," ").concat(r?"calendar-event--".concat(r):"")},a.createElement("div",{className:"calendar-event__header"},c&&a.createElement("svg",{className:"svg-icon"},s&&a.createElement("title",null,s),a.createElement("use",{href:"#".concat(c)})),a.createElement("span",{className:"calendar-event__title"},e)),a.createElement("div",{className:"calendar-event__time"},l&&"All day event",!l&&a.createElement("time",{dateTime:u},u),!l&&v&&" to ",!l&&v&&a.createElement("time",{dateTime:v},v)),(!o||o>=9e5)&&a.createElement("div",{className:"calendar-event__description"},i))}onScheduleViewContentKeyDown(e,t){"Enter"===e.key&&t({el:void 0,event:this.fcEvent})}getScheduleViewContent(e){let{onClick:t}=e;const n=this.getCalendarItemTitle();let{start:l,end:r}=this.event;const{allDay:c,icon:s,iconAlt:i,recurrence:o}=this.event,d=o&&0!==o.length;d&&({start:l,end:r}=this.fcEvent);let m=(0,k.p6d)(l,{hour:"numeric",minute:"2-digit",hour12:!1}),u=r&&(0,k.p6d)(r,{hour:"numeric",minute:"2-digit",hour12:!1});return!r||d||l.getDate()===r.getDate()&&l.getMonth()===r.getMonth()&&l.getYear()===r.getYear()||(m=(0,k.p6d)(l,{day:"numeric",month:"long",hour:"numeric",minute:"2-digit",hour12:!1}),u=r&&(0,k.p6d)(r,{day:"numeric",month:"long",hour:"numeric",minute:"2-digit",hour12:!1})),a.createElement("div",{role:"link",onKeyDown:e=>this.onScheduleViewContentKeyDown(e,t),tabIndex:"0",className:"calendar-event"},a.createElement("div",{className:"calendar-event__header"},s&&a.createElement("svg",{className:"svg-icon svg-icon--expand"},i&&a.createElement("title",null,i),a.createElement("use",{href:"#".concat(s)})),a.createElement("span",{className:"calendar-event__title"},n)),!c&&a.createElement(a.Fragment,null,a.createElement("time",{dateTime:m,className:"calendar-event__time"},m),u&&" to ",u&&a.createElement("time",{dateTime:u,className:"calendar-event__time"},u)))}getModalTitle(){return this.event.title}getModalContent(){let{start:e,end:t}=this.event;const{allDay:n,type:l,description:r,recurrence:c}=this.event;c&&0!==c.length&&({start:e,end:t}=this.fcEvent);const s=(0,k.p6d)(e,{month:"long",day:"numeric",year:"numeric"}),i=(0,k.p6d)(e,{hour:"numeric",minute:"2-digit"}),o=t&&(0,k.p6d)(t,{month:"long",day:"numeric",year:"numeric"}),d=t&&(0,k.p6d)(t,{hour:"numeric",minute:"2-digit"});let m=!1;return!t||e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getYear()===t.getYear()||(m=!0),a.createElement("div",{className:"calendar-event-details calendar-event-details--".concat(l)},a.createElement("div",{className:"calendar-event-details__time"},a.createElement("time",{dateTime:s,className:"calendar-event-details__start-date"},s),n&&a.createElement("span",{className:"calendar-event-details__all-day"}," All day "),!n&&a.createElement(a.Fragment,null," from ",a.createElement("time",{dateTime:i,className:"calendar-event-details__start-time"},i)),!n&&d&&" to ",m&&o&&a.createElement("time",{dateTime:o,className:"calendar-event-details__end-date"}," ".concat(o," ")),!n&&d&&a.createElement("time",{dateTime:d,className:"calendar-event-details__end-time"},d)),a.createElement("div",{className:"calendar-event-details__description"},r))}getModalFooterControls(){return[]}}var S=n(27856),M=n.n(S);class Y extends P{getCalendarItemTitle(){return this.event.courseCode}getModalTitle(){return this.event.courseName}getModalContent(){let{start:e}=this.event;const{type:t,title:n,description:l,submissionType:r,recurrence:c,url:s}=this.event;c&&0!==c.length&&({start:e}=this.fcEvent);const i=(0,k.p6d)(e,{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}),o=M().sanitize(l);return a.createElement("div",{className:"calendar-event-details calendar-event-details--".concat(t)},a.createElement("div",{className:"calendar-event-details__due"},a.createElement("h2",{className:"calendar-event-details__due-title"},"Assignment due"),"Due ",a.createElement("time",{dateTime:i,className:"calendar-event-details__due-date"},i),a.createElement("svg",{"aria-hidden":!0,className:"svg-icon"},a.createElement("use",{href:"#edit"}))),a.createElement("h2",{className:"calendar-event-details__sub-title"},n),a.createElement("div",{dangerouslySetInnerHTML:{__html:o},className:"calendar-event-details__description"}),r&&a.createElement("div",{className:"calendar-event-details__submit-method"},a.createElement("svg",{"aria-hidden":!0,className:"svg-icon"},a.createElement("use",{href:"#information"})),"Submit ",r),s&&a.createElement("div",{className:"calendar-event-details__submit-note"},"More details available in Canvas"))}getModalFooterControls(){const e=[];return this.event.url&&e.push({url:this.event.url,icon:"external",label:"Canvas"}),e}}function I(e,t){return"assignment"===e.type?new Y(e,t):new P(e,t)}function x(e){let{date:t,allDaySlot:n,nowIndicator:l,events:r,onEventClick:c,returnCalendarApi:s}=e;const i=(0,a.createRef)(),[o,d]=(0,a.useState)();(0,a.useEffect)((()=>{i&&i.current&&(d(i.current.getApi()),s(o))}),[i]),(0,a.useEffect)((()=>{o&&o.gotoDate(t)}),[o,t]);return a.createElement("div",{className:"calendar-day-view"},a.createElement(k.ZPm,{height:"100%",ref:i,plugins:[D.ZP,T.Z],initialView:"timeGridDay",scrollTime:"08:00:00",headerToolbar:!1,titleFormat:!1,allDaySlot:n,nowIndicator:l,events:r,eventClick:c,eventContent:e=>{let{event:t}=e;return I(t.extendedProps,t).getDayViewContent()},eventDidMount:e=>{const t=e.event.extendedProps._eventInteractionType;e.el.setAttribute("role",t===_.D.OpenInModal?"button":"link"),t===_.D.OpenInNewPage&&e.el.setAttribute("target","_blank")},eventMinHeight:48}))}var Z=a.memo(x),O=n(98074);function A(e){let{date:t,events:n,onEventClick:l,returnCalendarApi:r}=e;const c=(0,a.createRef)(),[s,i]=(0,a.useState)();return(0,a.useEffect)((()=>{c&&c.current&&(i(c.current.getApi()),r&&r(s))}),[c]),(0,a.useEffect)((()=>{s&&s.gotoDate(t)}),[s,t]),a.createElement("div",{className:"calendar-week-view"},a.createElement(k.ZPm,{height:"100%",ref:c,plugins:[O.ZP,T.Z],initialView:"dayGridWeek",headerToolbar:!1,titleFormat:!1,events:n,eventClick:l}))}var F=a.memo(A);function R(e){let{date:t,events:n,onEventClick:l,returnCalendarApi:r}=e;const c=(0,a.createRef)(),[s,i]=(0,a.useState)();return(0,a.useEffect)((()=>{c&&c.current&&(i(c.current.getApi()),r&&r(s))}),[c]),(0,a.useEffect)((()=>{s&&s.gotoDate(t)}),[s,t]),a.createElement("div",{className:"calendar-month-view"},a.createElement(k.ZPm,{ref:c,height:"100%",plugins:[O.ZP,T.Z],initialView:"dayGridMonth",headerToolbar:!1,titleFormat:!1,events:n,eventClick:l}))}var V=a.memo(R),W=n(52263);function H(e){let{events:t,onEventClick:n}=e,l="";return a.createElement("div",{className:"calendar-schedule-view"},a.createElement(k.ZPm,{height:"100%",plugins:[W.Z,T.Z],views:{oneYear:{type:"list",duration:{days:365},buttonText:"One Year"}},initialView:"oneYear",headerToolbar:!1,titleFormat:!1,events:t,eventClick:n,listDayFormat:{month:"short",day:"numeric"},listDaySideFormat:{month:"long",year:"numeric"},dayHeaderClassNames:e=>(l||(l=e.sideText),l!==e.sideText?(l=e.sideText,"calendar-schedule-view-new-month"):""),eventContent:e=>{let{event:t}=e;return I(t.extendedProps,t).getScheduleViewContent({onClick:n})}}))}var j=a.memo(H);function K(e){let{defaultView:t,allDaySlot:n=_.Y.Day,nowIndicator:v,title:h,bannerEnabled:f,bannerText:y,bannerCountType:b,typeIconMap:N={},eventAction:C=_.D.OpenInModal}=e;const[k,D]=(0,a.useState)(),[T,P]=(0,a.useState)(t),{events:S,getEvents:M}=(0,a.useContext)(u.Z),[Y,x]=(0,a.useState)(n),[O,A]=(0,a.useState)(new Date),[R,W]=(0,a.useState)(void 0),[H,K]=(0,a.useState)(0),[L,G]=(0,a.useState)(!1),q=(0,a.useRef)(null),z=(0,a.useRef)(null),[B,{width:X,height:J}]=function(){const[e,t]=(0,a.useState)(null),[n,l]=(0,a.useState)({width:0,height:0});function r(e){const t=e[0].contentRect,{width:n}=t,{height:a}=t;l({width:n,height:a})}return(0,a.useLayoutEffect)((()=>{if(e){const t=new ResizeObserver(r);return t.observe(e),()=>{t.unobserve(e)}}}),[e]),[t,n]}();(0,a.useEffect)((()=>{K(0),G(!1),z.current=null,q.current&&(clearTimeout(q.current),q.current=null),T===_.Y.Day?M({start:(0,r.Z)(O),end:(0,c.Z)(O)}):T===_.Y.Week?M({start:(0,s.Z)(O),end:(0,i.Z)(O)}):T===_.Y.Month&&M({start:(0,o.Z)(O),end:(0,d.Z)(O)})}),[O,T]),(0,a.useEffect)((()=>{if(T===_.Y.Schedule){const e=new Date((new Date).setHours(0,0,0,0));M({start:e,end:new Date((new Date).setFullYear((new Date).getFullYear()+1))})}}),[T]),(0,a.useEffect)((()=>{if(f){let e=0;k&&(e=k.getEvents().reduce(((e,t)=>t.extendedProps.type===b?e+1:e),0)),K(e)}}),[S,k]),(0,a.useEffect)((()=>{n&&(S.find((e=>e.allDay))?x(!0):x(!1))}),[n,S]);const Q=(0,a.useCallback)(((e,t)=>{t(S.map(((e,t)=>{const n={...e,interactive:!0,extendedProps:{...e,_calendarEventIndex:t,_eventInteractionType:C,duration:Math.floor(Math.abs(e.end-e.start)/1e3/60)}};return C===_.D.OpenInModal&&e.url&&(n.extendedProps.url=e.url,delete n.url),N[e.type]&&(n.extendedProps.icon=N[e.type],n.extendedProps.iconAlt=e.type),f&&e.type===b&&(n.extendedProps.bannerHighlight=!0),e.recurrence&&e.recurrence.length>0&&(n.rrule="".concat(e.recurrence[0])),n})))}),[S]),U=(0,a.useCallback)((e=>{let{el:t,event:n}=e;if(C!==_.D.OpenInModal&&n.extendedProps.url)return;const a=S[n.extendedProps._calendarEventIndex];W({event:a,fcEvent:n,element:t})}),[S]),$=(0,a.useCallback)((()=>{W(void 0)}),[R]),ee=(0,a.useCallback)((e=>{D(e)}),[]),te=(0,a.useCallback)((()=>{G(!0),q.current&&clearTimeout(q.current),q.current=setTimeout((()=>{G(!1),q.current=null}),1e3);const e=k.getEvents();if(e.length>0){let t=null!==z.current?z.current+1:0;t>=e.length&&(t=0),z.current=t,k.scrollToTime(36e5*e[t].start.getHours()+6e4*e[t].start.getMinutes())}}),[L,k]);let ne;R&&(ne=I(R.event,R.fcEvent));const ae=(0,m.Z)();return a.createElement("div",{className:"calendar-wrapper"},a.createElement(l.N3,{className:"calendar-wrapper__overlay"},a.createElement("div",{ref:B,className:"no-wysiwyg calendar ".concat(T!==_.Y.Schedule?"calendar--sub-header":"")},a.createElement("div",{className:"calendar__header"},a.createElement("div",{className:"calendar__title"},h),a.createElement(E,{uniqueId:"calendar-view-switcher",icon:"overflow-menu",iconTitle:"Toggle view switcher menu",className:"calendar-view-select"},T!==_.Y.Schedule&&a.createElement(g,{label:"Schedule",onClick:()=>P(_.Y.Schedule)}),T!==_.Y.Day&&a.createElement(g,{label:"Day",onClick:()=>P(_.Y.Day)}),T!==_.Y.Week&&a.createElement(g,{label:"Week",onClick:()=>P(_.Y.Week)}),T!==_.Y.Month&&a.createElement(g,{label:"Month",onClick:()=>P(_.Y.Month)}))),T!==_.Y.Schedule&&a.createElement(w,{date:O,viewType:T,onDateChange:e=>{A(e)}}),T===_.Y.Day&&f&&H>0&&a.createElement("button",{type:"button","aria-label":"Highlight ".concat(y),onClick:()=>te(),className:"calendar__banner"},y,a.createElement("span",{className:"calendar__banner-count"},H)),a.createElement("div",{className:"calendar__body ".concat(L?"calendar__body--highlight-types":"")},T===_.Y.Day&&a.createElement(Z,{width:X,height:J,date:O,allDaySlot:Y,nowIndicator:v,events:Q,onEventClick:U,returnCalendarApi:ee}),T===_.Y.Week&&a.createElement(F,{width:X,height:J,date:O,allDaySlot:Y,nowIndicator:v,events:Q,onEventClick:U}),T===_.Y.Month&&a.createElement(V,{width:X,height:J,date:O,allDaySlot:Y,nowIndicator:v,events:Q,onEventClick:U}),T===_.Y.Schedule&&a.createElement(j,{width:X,height:J,events:Q,onEventClick:U}))),R&&a.createElement(p.Z,{titleId:ae,onClose:$,className:"calendar-modal"},a.createElement("header",{className:"calendar-modal__header"},a.createElement("h1",{id:ae,className:"calendar-modal__title"},ne.getModalTitle()),a.createElement("button",{type:"button",onClick:$,className:"calendar-modal__header-close"},a.createElement("svg",{className:"svg-icon"},a.createElement("title",null,"Close modal"),a.createElement("use",{href:"#close"})))),a.createElement("div",{className:"calendar-modal__body"},ne.getModalContent()),a.createElement("footer",{className:"calendar-modal__footer"},a.createElement("button",{type:"button",onClick:$,className:"calendar-modal__close"},"Close"),ne.getModalFooterControls().map((e=>a.createElement("a",{key:e.url,href:e.url,target:"_blank",className:"calendar-modal__link",rel:"noreferrer"},e.icon?a.createElement("svg",{className:"svg-icon"},a.createElement("use",{href:"#".concat(e.icon)})):a.createElement(a.Fragment,null),e.label)))))))}},11321:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(67294),l=n(98069),r=n(34708),c=n(49641);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function i(e){let{titleId:t,title:n,onClose:r,children:s,className:i}=e;return a.createElement(l.Xj,null,a.createElement("div",{className:"no-wysiwyg modal-wrapper ".concat(i?"".concat(i,"-wrapper"):"")},a.createElement(c.MT,{contain:!0,restoreFocus:!0,autoFocus:!0},a.createElement(o,{titleId:t,title:n,onClose:r,className:i},s))))}function o(e){let{titleId:t,title:n,onClose:i,children:o,className:d}=e;const m={"aria-describedby":t,title:n,onClose:i,isDismissable:!0,isOpen:!0},u=a.useRef(),v=a.useRef(),h=(0,c.bO)(),{overlayProps:E,underlayProps:g}=(0,l.Ir)(m,v);(0,l.tk)();const{modalProps:p}=(0,l.dd)(),{dialogProps:_,titleProps:f}=(0,r.R)(m,v);return(0,a.useEffect)((()=>{u.current.removeAttribute("hidden"),h.focusFirst()}),[u]),a.createElement("div",s({ref:u},g,{hidden:!0,className:"modal ".concat(d||"")}),a.createElement("div",s({ref:v},E,_,p,{"aria-modal":"true",tabIndex:"-1",className:"modal__content ".concat(d?"".concat(d,"__content"):"")}),t?"":a.createElement("h2",s({},f,{className:"".concat(d?"".concat(d,"__title"):"")}),n),o))}}}]);
//# sourceMappingURL=Calendar-c5aa44226313e0285b75.js.map